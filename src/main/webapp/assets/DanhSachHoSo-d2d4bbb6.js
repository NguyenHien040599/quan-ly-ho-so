import{e as it,A as h,z as ht,x as dt,f as pt,_ as yt,N as O,h as _t,y as ft,B as gt,C as vt,o as Tt,r as St,i as n,j as i,w as t,l as _,d as s,k as c,F as d,q as A,M as Z,t as f,v as u,D as p,G as v,I as mt,H as kt,J as wt,E as k,n as tt,s as et,W as at,X as T,Y as S,K as Ct,L as Mt}from"./index-af2df877.js";import{u as xt}from"./hosodvc-ad889d3d.js";import{j as ot}from"./mock-data-4deb64e5.js";import{_ as Dt}from"./_plugin-vue_export-helper-c27b6911.js";import{V as P,a as $}from"./VRow-bee11424.js";import{V as bt}from"./VCard-98977f8b.js";import"./jquery-da988d60.js";const m=I=>(Ct("data-v-3fe07f44"),I=I(),Mt(),I),Et=m(()=>c("div",{class:"header-content",style:{"text-transform":"uppercase"}}," Danh sách hồ sơ ",-1)),Ot=m(()=>c("div",{class:"triangle-header"},null,-1)),Pt={class:"text-sub-header pl-2",style:{"text-transform":"uppercase"}},$t=m(()=>c("span",{style:{"padding-top":"2px"}},"Thêm mới hồ sơ",-1)),It=m(()=>c("div",{class:"header-content",style:{"text-transform":"uppercase"}}," Danh sách hồ sơ ",-1)),Nt=m(()=>c("div",{class:"triangle-header"},null,-1)),zt=["onClick"],Ft=["width"],Lt={key:0},Vt={class:"text-sub-header mx-0 px-0 mb-2",style:{"text-transform":"uppercase"}},At=m(()=>c("span",null,"Số lượng hồ sơ: ",-1)),Bt=m(()=>c("span",{style:{"padding-top":"2px"}},"Thêm mới hồ sơ",-1)),Kt=["onClick"],Rt={class:"td-center"},jt={class:"pt-2"},Gt={class:"mb-1",style:{color:"#1E7D30"}},Ut={class:"mb-1"},Xt=m(()=>c("span",null,"Mã hồ sơ: ",-1)),Yt={class:"mb-1"},qt=m(()=>c("span",null,"Ngày nộp: ",-1)),Wt={style:{color:"#1E7D30"}},Ht={class:"mb-1"},Jt=m(()=>c("span",null,"Trạng thái: ",-1)),Qt={style:{color:"#1E7D30"}},Zt={width:"30"},te={__name:"DanhSachHoSo",setup(I){const{mobile:N}=it(),B=xt(),w=h("#1E7D30"),b=ht(),x=dt(),j=pt(()=>yt(()=>import("./Pagination-1aaf2d62.js"),["./Pagination-1aaf2d62.js","./VRow-bee11424.js","./index-af2df877.js","./index-04d84f71.css","./VRow-37f80755.css","./VAutocomplete-9f49e379.js","./VAutocomplete-af217798.css"],import.meta.url)),K=O(ot.menuHoSo),g=_t(),{cookies:st}=ft(),r=gt(()=>g.getMenuSelected);if(b&&b.params.hasOwnProperty("thutuc")&&b.params.thutuc){let o=K.find(function(l){return l.to.split("/")[1]===b.params.thutuc});g.SET_MENU_SELECTED(o)}else if(b.name=="ThongBao"){let o=K.find(function(l){return l.id==="thongbao"});g.SET_MENU_SELECTED(o)}else g.SET_MENU_SELECTED(K[0]);h(!1),O({required:o=>!!o&&!Array.isArray(o)||Array.isArray(o)&&o.length||"Thông tin bắt buộc"}),h(""),h(""),h(!1),h(!1),h(null),h(null),O({}),h({}),O([]);const lt=O([{sortable:!1,title:"STT",align:"center",key:"stt",type:"index",class:"td-center",width:30},{sortable:!1,title:"Thông tin hồ sơ",align:"left",key:"MaDinhDanh",class:"td-left"},{sortable:!1,title:" ",align:"center",key:"action",width:30}]),z=h([]),C=h(20),R=h(!1);h(!1);const F=h(0),M=h(0),E=h(0),G=function(){let o=ot.thuTucHanhChinh.find(function(l){return l.maThuTuc==r.value.thuTuc.maThuTuc});o&&o.thongTinHoSo&&(g.$patch(l=>{l.thongTinHoSo=Object.assign(o.thongTinHoSo,{TrangThaiDuLieu:{MaMuc:"01",TenMuc:"Sơ bộ"},DonViXuLy:{MaDinhDanh:"G01.105",TenGoi:"Cục An ninh mạng và phòng, chống tội phạm sử dụng công nghệ cao"},TrichYeuHoSo:o.tenThuTuc})}),x.push({path:`/nop-ho-so${r.value.to}/0`}))},L=function(){if(r.value&&r.value.thuTuc&&r.value.thuTuc.maThuTuc){let o=r.value.hasOwnProperty("thuTucThayDoi")?r.value.thuTuc.maThuTuc+","+r.value.thuTucThayDoi.maThuTuc:r.value.thuTuc.maThuTuc,l={params:{page:F.value,size:C.value,thuTucHanhChinh_MaMuc:o,trangThaiDuLieu_MaMuc:"01,02"}};R.value=!0,B.getDanhSachHoSo(l).then(function(y){R.value=!1,z.value=y.content,E.value=y.totalElements,M.value=y.totalPages}).catch(function(){R.value=!1,z.value=[],E.value=0,M.value=0})}};L();const U=function(o){x.push({path:"/thong-tin-ho-so/"+o.primKey})},X=function(o){x.push({path:`/nop-ho-so${r.value.to}/${o.primKey}`})},Y=function(o){g.SET_SHOWCONFIRM(!0);let l={auth:!1,title:"Xóa hồ sơ",message:"Bạn có chắc chắn muốn xóa hồ sơ này",button:{yes:"Có",no:"Không"},callback:()=>{let y={data:o};B.xoaHoSo(y).then(function(a){L()}).catch(function(){})}};g.SET_CONFIG_CONFIRM_DIALOG(l)},q=function(o){g.SET_SHOWCONFIRM(!0);let l={auth:!1,title:"Xóa hồ sơ",message:"Bạn có chắc chắn muốn rút hồ sơ này",button:{yes:"Có",no:"Không"},callback:()=>{let y={data:Object.assign(o,{TrangThaiHoSo:{MaMuc:"08",TenMuc:"Dừng xử lý"}})};B.capNhatHoSo(y).then(function(a){L()}).catch(function(){})}};g.SET_CONFIG_CONFIRM_DIALOG(l)},W=function(o){x.push({path:`/nop-ho-so${r.value.to}/${o.primKey}`,query:{action:"bosung"}})},H=function(o){x.push({path:`/nop-ho-so${r.value.to}/${o.primKey}`,query:{id_update:o.primKey}})},J=function(o){console.log("page_pagination",o)},nt=function(o){if(!o)return"";let l=new Date(o);return`${l.getDate().toString().padStart(2,"0")}/${(l.getMonth()+1).toString().padStart(2,"0")}/${l.getFullYear()}`},ut=function(o){return o?(o/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):""},Q=function(o){let l=new Date(o);return`${l.getDate().toString().padStart(2,"0")}/${(l.getMonth()+1).toString().padStart(2,"0")}/${l.getFullYear()} ${l.getHours().toString().padStart(2,"0")}:${l.getMinutes().toString().padStart(2,"0")}`},ct=function(o,l){let y="";return l&&(y=Array.from(l,function(a){return a[o.mapping]})),y=y.toString().replace(/,/g,", "),y};return vt(r,async o=>{L()}),Tt(()=>{st.get("Token")?g.SET_ISSIGNED(!0):(g.SET_ISSIGNED(!1),g.SET_USERINFO(""),x.push({path:"/login"}))}),(o,l)=>{const y=St("v-data-table");return n(),i(bt,{class:"mx-auto pa-0",style:{"box-shadow":"none !important",overflow:"inherit"}},{default:t(()=>[_(N)?p("",!0):(n(),i(P,{key:0,class:"my-0 mb-5 mx-0"},{default:t(()=>[s($,{class:"row-header d-flex align-center justify-start py-0 px-0",style:{border:"none"}},{default:t(()=>[Et,Ot,c("div",Pt,d(_(r).dossierName),1)]),_:1}),s(A,{size:"small",color:w.value,onClick:Z(G,["stop"]),class:"mx-0"},{default:t(()=>[s(f,{size:"20",class:"mr-2"},{default:t(()=>[u("mdi-plus")]),_:1}),$t]),_:1},8,["color","onClick"])]),_:1})),_(N)?(n(),i(P,{key:1,class:"my-0 mb-5 mx-0"},{default:t(()=>[s($,{class:"row-header d-flex align-center justify-start py-0 px-0",style:{border:"none"}},{default:t(()=>[It,Nt]),_:1})]),_:1})):p("",!0),_(N)?p("",!0):(n(),i(P,{key:2,class:"mx-0 my-0"},{default:t(()=>[s($,{cols:"12",class:"px-0 py-0"},{default:t(()=>[s(y,{headers:_(r).headerTable,items:z.value,"items-per-page":C.value,"onUpdate:itemsPerPage":l[0]||(l[0]=a=>C.value=a),"item-value":"primKey","hide-default-footer":"",class:"table-base","no-data-text":"Không có hồ sơ nào"},{item:t(({item:a,index:V})=>[c("tr",{onClick:e=>U(a.raw)},[(n(!0),v(mt,null,kt(_(r).headerTable,(e,rt)=>(n(),v("td",{key:rt,class:wt(e.class),width:e.hasOwnProperty("width")?e.width:""},[e.type=="index"?(n(),v("div",Lt,[C.value?(n(),v("div",{key:0,style:k(e.hasOwnProperty("style")?e.style:"")},d(V+1),5)):(n(),v("div",{key:1,style:k(e.hasOwnProperty("style")?e.style:"")},d(V+1),5))])):e.type=="date"?(n(),v("div",{key:1,style:k(e.hasOwnProperty("style")?e.style:"")},d(a.raw.hasOwnProperty(e.key)?nt(a.raw[e.key]):""),5)):e.type=="datetime"?(n(),v("div",{key:2,style:k(e.hasOwnProperty("style")?e.style:"")},d(a.raw.hasOwnProperty(e.key)?Q(a.raw[e.key]):""),5)):e.type=="object"?(n(),v("div",{key:3,style:k(e.hasOwnProperty("style")?e.style:"")},d(a.raw.hasOwnProperty(e.key)?a.raw[e.key][e.mapping]:""),5)):e.type=="money"?(n(),v("div",{key:4,style:k(e.hasOwnProperty("style")?e.style:"")},d(a.raw.hasOwnProperty(e.key)?ut(a.raw[e.key]):""),5)):e.type=="array"?(n(),v("div",{key:5,style:k(e.hasOwnProperty("style")?e.style:"")},d(a.raw.hasOwnProperty(e.key)?ct(e,a.raw[e.key]):""),5)):e.type=="action"?(n(),v("div",{key:6,style:k(e.hasOwnProperty("style")?e.style:"")},[s(tt,null,{activator:t(({props:D})=>[s(A,et({icon:"",variant:"flat",size:"small"},D),{default:t(()=>[s(f,{size:"24",color:w.value},{default:t(()=>[u("mdi-filter-variant")]),_:1},8,["color"])]),_:2},1040)]),default:t(()=>[s(at,null,{default:t(()=>[a.raw.TrangThaiHoSo.MaMuc==""?(n(),i(T,{key:0,onClick:D=>X(a.raw)},{default:t(()=>[s(S,null,{default:t(()=>[s(f,{size:"24",color:w.value,class:"mr-2"},{default:t(()=>[u("mdi-playlist-edit")]),_:1},8,["color"]),u(" Sửa hồ sơ ")]),_:1})]),_:2},1032,["onClick"])):p("",!0),a.raw.TrangThaiHoSo.MaMuc==""?(n(),i(T,{key:1,onClick:D=>Y(a.raw)},{default:t(()=>[s(S,null,{default:t(()=>[s(f,{size:"22",color:"#FF0000",class:"mr-2"},{default:t(()=>[u("mdi-close")]),_:1}),u(" Xóa hồ sơ ")]),_:1})]),_:2},1032,["onClick"])):p("",!0),a.raw.TrangThaiHoSo.MaMuc=="01"?(n(),i(T,{key:2,onClick:D=>q(a.raw)},{default:t(()=>[s(S,null,{default:t(()=>[s(f,{size:"22",color:"#FF0000",class:"mr-2"},{default:t(()=>[u("mdi-file-refresh-outline")]),_:1}),u("Rút hồ sơ ")]),_:1})]),_:2},1032,["onClick"])):p("",!0),a.raw.TrangThaiHoSo.MaMuc=="05"?(n(),i(T,{key:3,onClick:D=>W(a.raw)},{default:t(()=>[s(S,null,{default:t(()=>[s(f,{size:"22",color:"#1E7D30",class:"mr-2"},{default:t(()=>[u("mdi-file-document-plus-outline")]),_:1}),u("Bổ sung hồ sơ ")]),_:1})]),_:2},1032,["onClick"])):p("",!0),a.raw.TrangThaiHoSo.MaMuc=="10"&&(_(r).id=="xulydulieu"||_(r).id=="chuyendulieu")?(n(),i(T,{key:4,onClick:D=>H(a.raw)},{default:t(()=>[s(S,null,{default:t(()=>[s(f,{size:"20",color:w.value,class:"mr-2"},{default:t(()=>[u("mdi-file-document-plus-outline")]),_:1},8,["color"]),u(" Lập hồ sơ thay đổi ")]),_:1})]),_:2},1032,["onClick"])):p("",!0)]),_:2},1024)]),_:2},1024)],4)):(n(),v("div",{key:7,style:k(e.hasOwnProperty("style")?e.style:"")},d(a.raw[e.key]),5))],10,Ft))),128))],8,zt)]),_:1},8,["headers","items","items-per-page"]),M.value&&M.value>1?(n(),i(_(j),{key:0,pageInput:F.value+1,pageCount:M.value,total:E.value,onChangePage:J,style:{"margin-bottom":"50px"}},null,8,["pageInput","pageCount","total"])):p("",!0)]),_:1})]),_:1})),_(N)?(n(),i(P,{key:3,class:"mx-0 my-0"},{default:t(()=>[s($,{cols:"12",class:"px-0 py-0"},{default:t(()=>[c("div",Vt,d(_(r).dossierName),1),s(P,{class:"mx-0 my-0",style:{"justify-content":"flex-end"}},{default:t(()=>[s($,{class:"px-0 py-0 pt-1",style:{"font-weight":"600",color:"#1E7D30"}},{default:t(()=>[At,c("span",null,d(E.value),1)]),_:1}),s(A,{size:"small",color:w.value,onClick:Z(G,["stop"]),class:"mx-0 mb-2"},{default:t(()=>[s(f,{size:"18",class:""},{default:t(()=>[u("mdi-plus")]),_:1}),Bt]),_:1},8,["color","onClick"])]),_:1}),s(y,{headers:lt,items:z.value,"items-per-page":C.value,"onUpdate:itemsPerPage":l[1]||(l[1]=a=>C.value=a),"item-value":"primKey","hide-default-footer":"",class:"table-base","no-data-text":"Không có hồ sơ nào"},{item:t(({item:a,index:V})=>[c("tr",{onClick:e=>U(a.raw)},[c("td",Rt,[c("div",null,d((F.value+1)*C.value-C.value+V+1),1)]),c("td",jt,[c("div",Gt,d(a.raw.TrichYeuHoSo),1),c("div",Ut,[Xt,u(d(a.raw.MaDinhDanh),1)]),c("div",Yt,[qt,c("span",Wt,d(a.raw.NgayNopHoSo?Q(a.raw.NgayNopHoSo):""),1)]),c("div",Ht,[Jt,c("span",Qt,d(a.raw.TrangThaiHoSo.TenMuc),1)])]),c("td",Zt,[s(tt,null,{activator:t(({props:e})=>[s(A,et({icon:"",variant:"flat",size:"small"},e),{default:t(()=>[s(f,{size:"24",color:w.value},{default:t(()=>[u("mdi-filter-variant")]),_:1},8,["color"])]),_:2},1040)]),default:t(()=>[s(at,null,{default:t(()=>[a.raw.TrangThaiHoSo.MaMuc==""?(n(),i(T,{key:0,onClick:e=>X(a.raw)},{default:t(()=>[s(S,null,{default:t(()=>[s(f,{size:"24",color:w.value,class:"mr-2"},{default:t(()=>[u("mdi-playlist-edit")]),_:1},8,["color"]),u(" Sửa hồ sơ ")]),_:1})]),_:2},1032,["onClick"])):p("",!0),a.raw.TrangThaiHoSo.MaMuc==""?(n(),i(T,{key:1,onClick:e=>Y(a.raw)},{default:t(()=>[s(S,null,{default:t(()=>[s(f,{size:"22",color:"#FF0000",class:"mr-2"},{default:t(()=>[u("mdi-close")]),_:1}),u(" Xóa hồ sơ ")]),_:1})]),_:2},1032,["onClick"])):p("",!0),a.raw.TrangThaiHoSo.MaMuc=="01"?(n(),i(T,{key:2,onClick:e=>q(a.raw)},{default:t(()=>[s(S,null,{default:t(()=>[s(f,{size:"22",color:"#FF0000",class:"mr-2"},{default:t(()=>[u("mdi-file-refresh-outline")]),_:1}),u("Rút hồ sơ ")]),_:1})]),_:2},1032,["onClick"])):p("",!0),a.raw.TrangThaiHoSo.MaMuc=="05"?(n(),i(T,{key:3,onClick:e=>W(a.raw)},{default:t(()=>[s(S,null,{default:t(()=>[s(f,{size:"22",color:"#1E7D30",class:"mr-2"},{default:t(()=>[u("mdi-file-document-plus-outline")]),_:1}),u("Bổ sung hồ sơ ")]),_:1})]),_:2},1032,["onClick"])):p("",!0),a.raw.TrangThaiHoSo.MaMuc=="10"&&(_(r).id=="xulydulieu"||_(r).id=="chuyendulieu")?(n(),i(T,{key:4,onClick:e=>H(a.raw)},{default:t(()=>[s(S,null,{default:t(()=>[s(f,{size:"20",color:w.value,class:"mr-2"},{default:t(()=>[u("mdi-file-document-plus-outline")]),_:1},8,["color"]),u(" Lập hồ sơ thay đổi ")]),_:1})]),_:2},1032,["onClick"])):p("",!0)]),_:2},1024)]),_:2},1024)])],8,Kt)]),_:1},8,["headers","items","items-per-page"]),M.value&&M.value>1?(n(),i(_(j),{key:0,pageInput:F.value+1,pageCount:M.value,total:E.value,onChangePage:J,style:{"margin-bottom":"50px"}},null,8,["pageInput","pageCount","total"])):p("",!0)]),_:1})]),_:1})):p("",!0)]),_:1})}}},ce=Dt(te,[["__scopeId","data-v-3fe07f44"]]);export{ce as default};
