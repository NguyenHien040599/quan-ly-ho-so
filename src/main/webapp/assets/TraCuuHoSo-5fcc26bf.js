import{e as I,h as G,z as B,A as l,y as R,M as A,C as U,o as j,r as F,i as n,j as H,w as t,J as L,l as O,d as e,v as s,N as Y,R as q,q as P,O as J,t as g,G as _,k as a,I as V,H as D,D as T,F as u,K as Q,L as W}from"./index-fe848f2d.js";import{u as X}from"./hosodvc-bdbcb3b1.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";import{V as $}from"./VCard-8b59fd30.js";import{a as i,V as d}from"./VRow-09778906.js";import"./jquery-da988d60.js";const f=x=>(Q("data-v-49b72a64"),x=x(),W(),x),tt=f(()=>a("span",{style:{"font-weight":"600"}},"Mã hồ sơ/ Số CCCD/ Mã số thuế/ Mã số doanh nghiệp ",-1)),et=f(()=>a("span",{style:{"font-size":"16px"}},"Tra cứu",-1)),at={key:0,class:"mt-3",style:{"max-width":"900px",margin:"0 auto","margin-bottom":"30px"}},st={style:{"font-weight":"600"}},ot=f(()=>a("span",null,"Chủ hồ sơ: ",-1)),lt={style:{"font-weight":"600"}},nt=f(()=>a("span",null,"Trạng thái hồ sơ: ",-1)),it={style:{"font-weight":"600"}},ut={key:0,style:{height:"45px",padding:"10px 0"}},ct={class:"mt-4",style:{"max-width":"900px",margin:"0 auto"}},rt={key:0,style:{height:"45px",padding:"10px 0"}},pt={style:{"font-weight":"600"}},dt={style:{"font-style":"italic"}},ht=f(()=>a("span",null,"Chủ hồ sơ: ",-1)),mt={style:{"font-weight":"600"}},_t=f(()=>a("span",null,"Trạng thái hồ sơ: ",-1)),ft={style:{"font-weight":"600"}},yt={key:0},gt={__name:"TraCuuHoSo",setup(x){const{mobile:z}=I();G();const w=X(),E=B(),b=l(0);R(),A([{sortable:!1,title:"STT",align:"center",key:"stt"},{sortable:!1,title:"Mã hồ sơ",align:"left",key:"HoVaTen"},{sortable:!1,title:"Ngày tạo",align:"left",key:"NgaySinh"},{sortable:!1,title:"Thủ tục",align:"left",key:"MaSinhVien"},{sortable:!1,title:"Tình trạng",align:"left",key:"GioiTinh"}]);const y=l(""),k=l([]),h=l(!1),S=l(!1),m=l([]),C=l(0),v=l(0),K=l(0),N=function(){if(!y.value||!String(y.value).trim())return;S.value=!0;let c={params:{page:0,size:20,keyword:String(y.value).trim()}};h.value=!0,w.getTraCuuHoSo(c).then(function(r){h.value=!1,k.value=r.content,C.value=r.totalElements}).catch(function(){h.value=!1,dsHoSo.value=[],C.value=0,pageCount.value=0})},M=function({done:c}){let r={params:{page:b.value,size:5,trangThaiHoSo_MaMuc:"02"}};h.value=!0,w.getTraCuuHoSo(r).then(function(p){h.value=!1,p.content.length&&(b.value+=1),m.value=m.value.concat(p.content),v.value=p.totalElements,K.value=p.totalPages,m.value.length<=p.totalElements?c("empty"):c("ok")}).catch(function(){h.value=!1,m.value=[],v.value=0,c("empty")})};return U(E,async c=>{M()}),j(()=>{}),(c,r)=>{const p=F("v-infinite-scroll");return n(),H($,{class:L(O(z)?"wrap-c-tracuu  wrap-c-tracuu-mobile mx-auto":"wrap-c-tracuu mx-auto mt-3")},{default:t(()=>[e(d,{justify:"center",class:"mx-0 my-0"},{default:t(()=>[e(i,{cols:"12",class:"px-0 py-0 text-header"},{default:t(()=>[s(" TRA CỨU HỒ SƠ ")]),_:1})]),_:1}),e(d,{class:"mx-0",style:{"margin-top":"12px !important","margin-bottom":"24px !important",margin:"0 auto"}},{default:t(()=>[e(i,{cols:"12",class:"px-0 py-0",style:{"line-height":"32px","max-width":"700px",margin:"0 auto"}},{default:t(()=>[tt]),_:1}),e(i,{cols:"12",class:"px-0 py-0",style:{"max-width":"700px",margin:"0 auto"}},{default:t(()=>[e(Y,{"prepend-inner-icon":"mdi-file-document-edit-outline",class:"flex input-form",modelValue:y.value,"onUpdate:modelValue":r[0]||(r[0]=o=>y.value=o),placeholder:"Nhập thông tin tra cứu",solo:"",dense:"","hide-details":"auto",clearable:"",onKeyup:q(N,["enter"])},null,8,["modelValue","onKeyup"])]),_:1})]),_:1}),e(d,{justify:"center",class:"mx-0 my-0",style:{"margin-top":"25px !important","margin-bottom":"25px !important"}},{default:t(()=>[e(P,{size:"small",color:"#1E7D30",class:"mx-0",style:{float:"right"},onClick:J(N,["stop"]),height:"35px",width:"150px"},{default:t(()=>[e(g,{size:"24",color:"#ffffff",class:"mr-2"},{default:t(()=>[s("mdi-magnify")]),_:1}),et]),_:1},8,["onClick"])]),_:1}),S.value?(n(),_("div",at,[e(d,{class:"my-0 mx-0"},{default:t(()=>[e(i,{cols:"12",class:"px-0 py-0 text-header-ho-so py-2"},{default:t(()=>[e(g,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[s("mdi-text-box-search-outline")]),_:1}),s(" KẾT QUẢ TRA CỨU ")]),_:1})]),_:1}),a("div",null,[(n(!0),_(V,null,D(k.value,o=>(n(),H(d,{key:o,class:"mx-0 my-0",style:{"align-items":"center","max-height":"60px","border-bottom":"1px dotted rgb(167, 165, 165)",padding:"5px 0px"}},{default:t(()=>[e(i,{class:"px-0 py-0",style:{"max-width":"40px"}},{default:t(()=>[e(g,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[s("mdi-chevron-double-right")]),_:1})]),_:1}),e(i,{class:"py-0"},{default:t(()=>[a("div",null,[a("span",st,u(o.MaDinhDanh),1),s(" - "),a("span",null,u(o.TrichYeuHoSo),1)]),a("div",null,[ot,s(),a("span",lt,u(o.ChuHoSo.TenGoi),1),s(" - "),nt,s(),a("span",it,u(o.TrangThaiHoSo.TenMuc),1)])]),_:2},1024)]),_:2},1024))),128)),S.value&&!C.value?(n(),_("div",ut,"KHÔNG CÓ HỒ SƠ NÀO ĐƯỢC TÌM THẤY")):T("",!0)])])):T("",!0),a("div",ct,[e(d,{class:"my-0 mx-0"},{default:t(()=>[e(i,{cols:"12",class:"px-0 py-0 text-header-ho-so py-2"},{default:t(()=>[e(g,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[s("mdi-text-box-check-outline")]),_:1}),s(" HỒ SƠ MỚI TIẾP NHẬN ")]),_:1})]),_:1}),a("div",null,[v.value?T("",!0):(n(),_("div",rt,"KHÔNG CÓ HỒ SƠ NÀO")),e(p,{height:250,items:m.value,onLoad:M},{empty:t(()=>[v.value?(n(),_("div",yt,"Không còn hồ sơ nào!")):T("",!0)]),default:t(()=>[(n(!0),_(V,null,D(m.value,o=>(n(),H(d,{key:o.primKey,class:"mx-0 my-0",style:{"align-items":"center","max-height":"60px","border-bottom":"1px dotted rgb(167, 165, 165)",padding:"5px 0px"}},{default:t(()=>[e(i,{class:"px-0 py-0",style:{"max-width":"40px"}},{default:t(()=>[e(g,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[s("mdi-chevron-double-right")]),_:1})]),_:1}),e(i,{class:"py-0"},{default:t(()=>[a("div",null,[a("span",pt,u(o.MaDinhDanh),1),s(" - "),a("span",null,u(o.TrichYeuHoSo),1)]),a("div",dt,[ht,s(),a("span",mt,u(o.ChuHoSo.TenGoi),1),s(" - "),_t,s(),a("span",ft,u(o.TrangThaiHoSo.TenMuc),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["items"])])])]),_:1},8,["class"])}}},wt=Z(gt,[["__scopeId","data-v-49b72a64"]]);export{wt as default};
