import{e as G,h as K,z as B,A as l,y as A,M as R,C as U,o as j,r as F,i as n,j as H,w as e,J as L,l as O,d as t,v as s,N as Y,q,O as P,t as y,F as _,k as a,I as D,H as M,E as T,G as c,K as J,L as Q}from"./index-012aba98.js";import{u as X}from"./hosodvc-33b4207f.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Z}from"./VCard-56b1f699.js";import{a as i,V as p}from"./VRow-d6ac88c9.js";import"./jquery-da988d60.js";const f=g=>(J("data-v-2204eed3"),g=g(),Q(),g),$=f(()=>a("span",{style:{"font-weight":"600"}},"Mã hồ sơ/ Số CCCD/ Mã số thuế/ Mã số doanh nghiệp ",-1)),ee=f(()=>a("span",{style:{"font-size":"16px"}},"Tra cứu",-1)),te={key:0,class:"mx-0 mt-3",style:{"max-width":"900px",margin:"0 auto"}},ae={style:{"font-weight":"600"}},se={style:{"font-style":"italic"}},oe=f(()=>a("span",null,"Chủ hồ sơ: ",-1)),le={style:{"font-weight":"600"}},ne=f(()=>a("span",null,"Trạng thái hồ sơ: ",-1)),ie={style:{"font-weight":"600"}},ce={key:0,style:{height:"45px",padding:"10px 0"}},ue={class:"mt-4",style:{"max-width":"900px",margin:"0 auto"}},re={key:0,style:{height:"45px",padding:"10px 0"}},de={style:{"font-weight":"600"}},pe={style:{"font-style":"italic"}},he=f(()=>a("span",null,"Chủ hồ sơ: ",-1)),me={style:{"font-weight":"600"}},_e=f(()=>a("span",null,"Trạng thái hồ sơ: ",-1)),fe={style:{"font-weight":"600"}},ye={key:0},ge={__name:"TraCuuHoSo",setup(g){const{mobile:V}=G();K();const w=X(),z=B(),k=l(0);A(),R([{sortable:!1,title:"STT",align:"center",key:"stt"},{sortable:!1,title:"Mã hồ sơ",align:"left",key:"HoVaTen"},{sortable:!1,title:"Ngày tạo",align:"left",key:"NgaySinh"},{sortable:!1,title:"Thủ tục",align:"left",key:"MaSinhVien"},{sortable:!1,title:"Tình trạng",align:"left",key:"GioiTinh"}]);const x=l(""),b=l([]),h=l(!1),S=l(!1),m=l([]),C=l(0),v=l(0),E=l(0),I=function(){if(!String(x.value).trim())return;S.value=!0;let u={params:{page:0,size:20,keywordChinhXac:String(x.value).trim()}};h.value=!0,w.getDanhSachHoSo(u).then(function(r){h.value=!1,b.value=r.content,C.value=r.totalElements}).catch(function(){h.value=!1,dsHoSo.value=[],C.value=0,pageCount.value=0})},N=function({done:u}){let r={params:{page:k.value,size:5,trangThaiHoSo_MaMuc:"02"}};h.value=!0,w.getDanhSachHoSo(r).then(function(d){h.value=!1,d.content.length&&(k.value+=1),m.value=m.value.concat(d.content),v.value=d.totalElements,E.value=d.totalPages,m.value.length<=d.totalElements?u("empty"):u("ok")}).catch(function(){h.value=!1,m.value=[],v.value=0,u("empty")})};return U(z,async u=>{N()}),j(()=>{}),(u,r)=>{const d=F("v-infinite-scroll");return n(),H(Z,{class:L(O(V)?"wrap-c-tracuu  wrap-c-tracuu-mobile mx-auto":"wrap-c-tracuu mx-auto mt-3")},{default:e(()=>[t(p,{justify:"center",class:"mx-0 my-0"},{default:e(()=>[t(i,{cols:"12",class:"px-0 py-0 text-header"},{default:e(()=>[s(" TRA CỨU HỒ SƠ ")]),_:1})]),_:1}),t(p,{class:"mx-0",style:{"margin-top":"12px !important","margin-bottom":"24px !important",margin:"0 auto"}},{default:e(()=>[t(i,{cols:"12",class:"px-0 py-0",style:{"line-height":"32px","max-width":"700px",margin:"0 auto"}},{default:e(()=>[$]),_:1}),t(i,{cols:"12",class:"px-0 py-0",style:{"max-width":"700px",margin:"0 auto"}},{default:e(()=>[t(Y,{"prepend-inner-icon":"mdi-file-document-edit-outline",class:"flex input-form",modelValue:x.value,"onUpdate:modelValue":r[0]||(r[0]=o=>x.value=o),placeholder:"Nhập thông tin tra cứu",solo:"",dense:"","hide-details":"auto",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(p,{justify:"center",class:"mx-0 my-0",style:{"margin-top":"25px !important","margin-bottom":"25px !important"}},{default:e(()=>[t(q,{size:"small",color:"#1E7D30",class:"mx-0",style:{float:"right"},onClick:P(I,["stop"]),height:"35px",width:"150px"},{default:e(()=>[t(y,{size:"24",color:"#ffffff",class:"mr-2"},{default:e(()=>[s("mdi-magnify")]),_:1}),ee]),_:1},8,["onClick"])]),_:1}),S.value?(n(),_("div",te,[t(p,{class:"my-0 mx-0"},{default:e(()=>[t(i,{cols:"12",class:"px-0 py-0 text-header-ho-so py-2"},{default:e(()=>[t(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:e(()=>[s("mdi-text-box-search-outline")]),_:1}),s(" KẾT QUẢ TRA CỨU ")]),_:1})]),_:1}),a("div",null,[(n(!0),_(D,null,M(b.value,o=>(n(),H(p,{key:o,class:"mx-0 my-0",style:{"align-items":"center","max-height":"60px","border-bottom":"1px dotted rgb(167, 165, 165)",padding:"5px 0px"}},{default:e(()=>[t(i,{class:"px-0 py-0",style:{"max-width":"40px"}},{default:e(()=>[t(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:e(()=>[s("mdi-chevron-double-right")]),_:1})]),_:1}),t(i,{class:"py-0"},{default:e(()=>[a("div",null,[a("span",ae,c(o.MaDinhDanh),1),s(" - "),a("span",null,c(o.TrichYeuHoSo),1)]),a("div",se,[oe,s(),a("span",le,c(o.ChuHoSo.TenGoi),1),s(" - "),ne,s(),a("span",ie,c(o.TrangThaiHoSo.TenMuc),1)])]),_:2},1024)]),_:2},1024))),128)),S.value&&!C.value?(n(),_("div",ce,"KHÔNG CÓ HỒ SƠ NÀO ĐƯỢC TÌM THẤY")):T("",!0)])])):T("",!0),a("div",ue,[t(p,{class:"my-0 mx-0"},{default:e(()=>[t(i,{cols:"12",class:"px-0 py-0 text-header-ho-so py-2"},{default:e(()=>[t(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:e(()=>[s("mdi-text-box-check-outline")]),_:1}),s(" HỒ SƠ MỚI TIẾP NHẬN ")]),_:1})]),_:1}),a("div",null,[v.value?T("",!0):(n(),_("div",re,"KHÔNG CÓ HỒ SƠ NÀO")),t(d,{height:250,items:m.value,onLoad:N},{empty:e(()=>[v.value?(n(),_("div",ye,"Không còn hồ sơ nào!")):T("",!0)]),default:e(()=>[(n(!0),_(D,null,M(m.value,o=>(n(),H(p,{key:o.primKey,class:"mx-0 my-0",style:{"align-items":"center","max-height":"60px","border-bottom":"1px dotted rgb(167, 165, 165)",padding:"5px 0px"}},{default:e(()=>[t(i,{class:"px-0 py-0",style:{"max-width":"40px"}},{default:e(()=>[t(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:e(()=>[s("mdi-chevron-double-right")]),_:1})]),_:1}),t(i,{class:"py-0"},{default:e(()=>[a("div",null,[a("span",de,c(o.MaDinhDanh),1),s(" - "),a("span",null,c(o.TrichYeuHoSo),1)]),a("div",pe,[he,s(),a("span",me,c(o.ChuHoSo.TenGoi),1),s(" - "),_e,s(),a("span",fe,c(o.TrangThaiHoSo.TenMuc),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["items"])])])]),_:1},8,["class"])}}},we=W(ge,[["__scopeId","data-v-2204eed3"]]);export{we as default};
