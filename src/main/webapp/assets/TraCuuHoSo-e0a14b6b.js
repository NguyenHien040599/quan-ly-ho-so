import{f as I,G as B,n as l,q as G,t as K,H as L,o as R,r as U,h as n,i as C,w as e,d as t,v as s,J as j,K as A,L as F,z as y,x as m,j as a,F as V,y as M,I as T,B as c,D as Q,E as Y}from"./index-4c35af64.js";import{u as q}from"./hosodvc-72a37b7f.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{V as P}from"./VCard-0356f14d.js";import{a as i,V as p}from"./VRow-9bbff3db.js";import"./jquery-da988d60.js";const h=g=>(Q("data-v-ca22790e"),g=g(),Y(),g),J=h(()=>a("span",{style:{"font-weight":"600"}},"Mã hồ sơ/ Số CCCD/ Mã số thuế/ Mã số doanh nghiệp ",-1)),X=h(()=>a("span",{style:{color:"#EB0202"}},"(*)",-1)),W=h(()=>a("span",{style:{"font-size":"16px"}},"Tra cứu",-1)),Z={key:0,class:"mx-0 mt-3"},$={style:{"font-weight":"600"}},ee={style:{"font-style":"italic"}},te=h(()=>a("span",null,"Chủ hồ sơ: ",-1)),ae={style:{"font-weight":"600"}},se=h(()=>a("span",null,"Trạng thái hồ sơ: ",-1)),oe={style:{"font-weight":"600"}},le={key:0,style:{height:"45px",padding:"10px 0"}},ne={class:"mt-4"},ie={key:0,style:{height:"45px",padding:"10px 0"}},ce={style:{"font-weight":"600"}},ue={style:{"font-style":"italic"}},re=h(()=>a("span",null,"Chủ hồ sơ: ",-1)),de={style:{"font-weight":"600"}},pe=h(()=>a("span",null,"Trạng thái hồ sơ: ",-1)),he={style:{"font-weight":"600"}},_e={key:0},fe={__name:"TraCuuHoSo",setup(g){I();const k=q(),D=B(),w=l(0);G(),K([{sortable:!1,title:"STT",align:"center",key:"stt"},{sortable:!1,title:"Mã hồ sơ",align:"left",key:"HoVaTen"},{sortable:!1,title:"Ngày tạo",align:"left",key:"NgaySinh"},{sortable:!1,title:"Thủ tục",align:"left",key:"MaSinhVien"},{sortable:!1,title:"Tình trạng",align:"left",key:"GioiTinh"}]);const x=l(""),N=l([]),_=l(!1),S=l(!1),f=l([]),H=l(0),v=l(0),E=l(0),z=function(){if(!String(x.value).trim())return;S.value=!0;let u={params:{page:0,size:20,keywordChinhXac:String(x.value).trim()}};_.value=!0,k.getDanhSachHoSo(u).then(function(r){_.value=!1,N.value=r.content,H.value=r.totalElements}).catch(function(){_.value=!1,dsHoSo.value=[],H.value=0,pageCount.value=0})},b=function({done:u}){let r={params:{page:w.value,size:5,trangThaiHoSo_MaMuc:"02"}};_.value=!0,k.getDanhSachHoSo(r).then(function(d){_.value=!1,d.content.length&&(w.value+=1),f.value=f.value.concat(d.content),v.value=d.totalElements,E.value=d.totalPages,f.value.length<=d.totalElements?u("empty"):u("ok")}).catch(function(){_.value=!1,f.value=[],v.value=0,u("empty")})};return L(D,async u=>{b()}),R(()=>{}),(u,r)=>{const d=U("v-infinite-scroll");return n(),C(P,{class:"wrap-c-tracuu mx-auto mt-3"},{default:e(()=>[t(p,{justify:"center",class:"mx-0 my-0"},{default:e(()=>[t(i,{cols:"12",class:"px-0 py-0 text-header"},{default:e(()=>[s(" TRA CỨU HỒ SƠ THỦ TỤC HÀNH CHÍNH ")]),_:1})]),_:1}),t(p,{class:"mx-auto",style:{"margin-top":"12px !important","margin-bottom":"24px !important","max-width":"700px"}},{default:e(()=>[t(i,{cols:"12",class:"px-0 py-0",style:{"line-height":"32px"}},{default:e(()=>[J,X]),_:1}),t(i,{cols:"12",class:"px-0 py-0"},{default:e(()=>[t(j,{"prepend-inner-icon":"mdi-file-document-edit-outline",class:"flex input-form",modelValue:x.value,"onUpdate:modelValue":r[0]||(r[0]=o=>x.value=o),placeholder:"Nhập thông tin tra cứu",solo:"",dense:"","hide-details":"auto",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(p,{justify:"center",class:"mx-0 my-0",style:{"margin-top":"25px !important","margin-bottom":"25px !important"}},{default:e(()=>[t(A,{size:"small",color:"#1E7D30",class:"mx-0",style:{float:"right"},onClick:F(z,["stop"]),height:"35px",width:"150px"},{default:e(()=>[t(y,{size:"24",color:"#ffffff",class:"mr-2"},{default:e(()=>[s("mdi-magnify")]),_:1}),W]),_:1},8,["onClick"])]),_:1}),S.value?(n(),m("div",Z,[t(p,{class:"my-0 mx-0"},{default:e(()=>[t(i,{cols:"12",class:"px-0 py-0 text-header-ho-so py-2"},{default:e(()=>[t(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:e(()=>[s("mdi-text-box-search-outline")]),_:1}),s(" KẾT QUẢ TRA CỨU ")]),_:1})]),_:1}),a("div",null,[(n(!0),m(V,null,M(N.value,o=>(n(),C(p,{key:o,class:"mx-0 my-0",style:{"align-items":"center","max-height":"60px","border-bottom":"1px dotted rgb(167, 165, 165)",padding:"5px 0px"}},{default:e(()=>[t(i,{class:"px-0 py-0",style:{"max-width":"40px"}},{default:e(()=>[t(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:e(()=>[s("mdi-chevron-double-right")]),_:1})]),_:1}),t(i,{class:"py-0"},{default:e(()=>[a("div",null,[a("span",$,c(o.MaSoQuanLy),1),s(" - "),a("span",null,c(o.TrichYeuHoSo),1)]),a("div",ee,[te,s(),a("span",ae,c(o.ChuHoSo.TenGoi),1),s(" - "),se,s(),a("span",oe,c(o.TrangThaiHoSo.TenMuc),1)])]),_:2},1024)]),_:2},1024))),128)),S.value&&!H.value?(n(),m("div",le,"KHÔNG CÓ HỒ SƠ NÀO ĐƯỢC TÌM THẤY")):T("",!0)])])):T("",!0),a("div",ne,[t(p,{class:"my-0 mx-0"},{default:e(()=>[t(i,{cols:"12",class:"px-0 py-0 text-header-ho-so py-2"},{default:e(()=>[t(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:e(()=>[s("mdi-text-box-check-outline")]),_:1}),s(" HỒ SƠ MỚI TIẾP NHẬN ")]),_:1})]),_:1}),a("div",null,[v.value?T("",!0):(n(),m("div",ie,"KHÔNG CÓ HỒ SƠ NÀO")),t(d,{height:250,items:f.value,onLoad:b},{empty:e(()=>[v.value?(n(),m("div",_e,"Không còn hồ sơ nào!")):T("",!0)]),default:e(()=>[(n(!0),m(V,null,M(f.value,o=>(n(),C(p,{key:o.primKey,class:"mx-0 my-0",style:{"align-items":"center","max-height":"60px","border-bottom":"1px dotted rgb(167, 165, 165)",padding:"5px 0px"}},{default:e(()=>[t(i,{class:"px-0 py-0",style:{"max-width":"40px"}},{default:e(()=>[t(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:e(()=>[s("mdi-chevron-double-right")]),_:1})]),_:1}),t(i,{class:"py-0"},{default:e(()=>[a("div",null,[a("span",ce,c(o.MaSoQuanLy),1),s(" - "),a("span",null,c(o.TrichYeuHoSo),1)]),a("div",ue,[re,s(),a("span",de,c(o.ChuHoSo.TenGoi),1),s(" - "),pe,s(),a("span",he,c(o.TrangThaiHoSo.TenMuc),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["items"])])])]),_:1})}}},Se=O(fe,[["__scopeId","data-v-ca22790e"]]);export{Se as default};
