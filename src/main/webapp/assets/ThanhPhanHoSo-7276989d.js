import{e as j,A as T,h as F,B,M as V,o as K,i as t,j as d,w as e,d as l,k as n,t as u,v as i,F as p,I as z,H as S,l as $,G as h,E as v,q as m,s as C,O as A,K as N,L as q}from"./index-7ff11648.js";import"./jquery-da988d60.js";import{u as O}from"./hosodvc-cec002e8.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{V as k,a as H}from"./VRow-51978c15.js";import{V as M}from"./VTooltip-98f2d52f.js";import{c as U,V as X,a as J,b as Q}from"./VToolbarItems-fee21185.js";import{V as G,a as W}from"./VCard-00827b24.js";const f=D=>(N("data-v-7004d358"),D=D(),q(),D),Y={class:"sub-header-content"},Z=f(()=>n("div",{class:"triangle-header"},null,-1)),ee=f(()=>n("div",{class:"text-sub-header"},"Thành phần hồ sơ",-1)),oe={style:{"font-weight":"600",width:"100%"}},ae={key:0,style:{color:"red"}},te=["onClick"],le={class:"ml-2",style:{"font-size":"14px","text-decoration":"underline",color:"#1E7D30"}},ne=f(()=>n("span",null,"Tải xuống",-1)),se={key:1,style:{width:"100%"}},ie={style:{width:"100%"},class:"pl-3"},ue=f(()=>n("span",null,"- ",-1)),de=["onClick"],re={class:"ml-2",style:{"font-size":"14px","text-decoration":"underline",color:"#1E7D30"}},ce=f(()=>n("span",null,"Tải xuống",-1)),pe=f(()=>n("div",{class:"sub-header-content"}," Tệp tin đính kèm ",-1)),he=f(()=>n("div",{class:"triangle-header"},null,-1)),fe=["src"],Te={__name:"ThanhPhanHoSo",setup(D){j();const x=T("#1E7D30"),I=F(),P=O();T(!1);const _=T(!1),y=T(!1),b=T(""),E=B(function(){let c=I.thongTinHoSo.ThanhPhanHoSo.filter(function(s){return!s.MaThanhPhanHoSo||s.MaThanhPhanHoSo&&s.MaThanhPhanHoSo.MaMuc.split("_")[0]!=="BMDT"});return c.forEach((s,o)=>{s.HinhThucGiayTo.MaMuc=="true"&&(c[o].items=c.filter(function(r){let a=r.IDGiayTo.split("-");return a[0]=="GTK"&&a[1]==s.IDGiayTo}))}),c.filter(function(s){return String(s.IDGiayTo).split("-")[0]!=="GTK"})});V([{sortable:!1,title:"Tên giấy tờ",align:"left",key:"tenGiayTo",class:"td-left"},{sortable:!1,title:"Tệp đính kèm",align:"left",key:"tepDinhKem",class:"td-left"}]),V([{sortable:!1,title:"TT",align:"center",key:"index",class:"td-left"},{sortable:!1,title:"Tên giấy tờ",align:"left",key:"tepDinhKem",class:"td-left"}]);const g=function(c,s){_.value||(_.value=!0,P.taiTep(c).then(function(o){if(console.log("resultFile",o),_.value=!1,s=="preview")b.value=o,y.value=!0;else{var r=document.createElement("a");document.body.appendChild(r),r.style="display: none",r.href=o,r.download=c.TenTep,r.click()}}).catch(function(o){console.log("error-resultFile",o),_.value=!1}))};return K(()=>{}),(c,s)=>(t(),d(G,{class:"pa-0 thanhphanhoso",style:{"box-shadow":"none !important",width:"100%"}},{default:e(()=>[l(k,{class:"mx-0 my-0 mt-3"},{default:e(()=>[l(H,{class:"sub-header d-flex align-center justify-start py-0 px-0"},{default:e(()=>[n("div",Y,[l(u,{size:"22",color:"#ffffff"},{default:e(()=>[i("mdi-view-dashboard-outline")]),_:1})]),Z,ee]),_:1})]),_:1}),l(k,{class:"mx-0 my-0 mt-2",style:{"border-top":"1px dotted #DADADA","border-left":"1px dotted #DADADA"}},{default:e(()=>[(t(!0),p(z,null,S($(E),(o,r)=>(t(),d(k,{key:o.IDGiayTo,class:"mx-0 my-0 px-2 py-2",style:{width:"100%","border-bottom":"1px dotted #DADADA","border-right":"1px dotted #DADADA","align-items":"center","min-height":"42px"}},{default:e(()=>[n("div",oe,[n("span",null,h(r+1)+". ",1),n("span",null,h(o.TenGiayTo),1),i(),o.HinhThucGiayTo.TenMuc=="true"?(t(),p("span",ae,"(*)")):v("",!0)]),o.TepDuLieu.KichThuocTep?(t(),p("div",{key:0,class:"py-1",onClick:a=>g(o.TepDuLieu,"preview"),style:{width:"100%"}},[o.TepDuLieu.DinhDangTep==="xls"||o.TepDuLieu.DinhDangTep==="xlsx"?(t(),d(u,{key:0,size:"18",color:"green"},{default:e(()=>[i("mdi-file-excel-outline")]),_:1})):o.TepDuLieu.DinhDangTep==="doc"||o.TepDuLieu.DinhDangTep==="docx"?(t(),d(u,{key:1,size:"18",color:"blue"},{default:e(()=>[i("mdi-file-word-outline")]),_:1})):o.TepDuLieu.DinhDangTep==="pdf"?(t(),d(u,{key:2,size:"18",color:"red"},{default:e(()=>[i("mdi-file-pdf-box")]),_:1})):o.TepDuLieu.DinhDangTep==="png"||o.TepDuLieu.DinhDangTep==="jpg"||o.TepDuLieu.DinhDangTep==="jpeg"?(t(),d(u,{key:3,size:"18",color:"blue"},{default:e(()=>[i("mdi-file-image")]),_:1})):(t(),d(u,{key:4,size:"18",color:"#2161b1"},{default:e(()=>[i("mdi-paperclip")]),_:1})),n("a",le,h(o.TepDuLieu.TenTep)+"."+h(o.TepDuLieu.Ext),1),l(M,{location:"top"},{activator:e(({props:a})=>[l(m,C({icon:"",variant:"flat",size:"small"},a,{class:"mr-0",onClick:A(w=>g(o.TepDuLieu,"download"),["stop"])}),{default:e(()=>[l(u,{size:"18",color:x.value},{default:e(()=>[i("mdi-cloud-download-outline")]),_:1},8,["color"])]),_:2},1040,["onClick"])]),default:e(()=>[ne]),_:2},1024)],8,te)):v("",!0),o.HinhThucGiayTo.MaMuc=="true"?(t(),p("div",se,[(t(!0),p(z,null,S(o.items,(a,w)=>(t(),p("div",{key:w},[n("div",ie,[ue,n("span",null,h(a.TenGiayTo)+": ",1),a.TepDuLieu.KichThuocTep?(t(),p("span",{key:0,class:"py-1",onClick:L=>g(a.TepDuLieu,"preview")},[a.TepDuLieu.DinhDangTep==="xls"||a.TepDuLieu.DinhDangTep==="xlsx"?(t(),d(u,{key:0,size:"18",color:"green"},{default:e(()=>[i("mdi-file-excel-outline")]),_:1})):a.TepDuLieu.DinhDangTep==="doc"||a.TepDuLieu.DinhDangTep==="docx"?(t(),d(u,{key:1,size:"18",color:"blue"},{default:e(()=>[i("mdi-file-word-outline")]),_:1})):a.TepDuLieu.DinhDangTep==="pdf"?(t(),d(u,{key:2,size:"18",color:"red"},{default:e(()=>[i("mdi-file-pdf-box")]),_:1})):a.TepDuLieu.DinhDangTep==="png"||a.TepDuLieu.DinhDangTep==="jpg"||a.TepDuLieu.DinhDangTep==="jpeg"?(t(),d(u,{key:3,size:"18",color:"blue"},{default:e(()=>[i("mdi-file-image")]),_:1})):(t(),d(u,{key:4,size:"18",color:"#2161b1"},{default:e(()=>[i("mdi-paperclip")]),_:1})),n("a",re,h(a.TepDuLieu.TenTep)+"."+h(a.TepDuLieu.Ext),1),l(M,{location:"top"},{activator:e(({props:L})=>[l(m,C({icon:"",variant:"flat",size:"small"},L,{class:"mr-0",onClick:A(De=>g(a.TepDuLieu,"download"),["stop"])}),{default:e(()=>[l(u,{size:"18",color:x.value},{default:e(()=>[i("mdi-cloud-download-outline")]),_:1},8,["color"])]),_:2},1040,["onClick"])]),default:e(()=>[ce]),_:2},1024)],8,de)):v("",!0)])]))),128))])):v("",!0)]),_:2},1024))),128))]),_:1}),l(U,{"max-width":"1000",modelValue:y.value,"onUpdate:modelValue":s[1]||(s[1]=o=>y.value=o),persistent:""},{default:e(()=>[l(G,null,{default:e(()=>[l(X,{dark:"",color:x.value,class:"px-0"},{default:e(()=>[l(H,{class:"sub-header d-flex align-center justify-start py-0 px-0"},{default:e(()=>[pe,he]),_:1}),l(J),l(Q,null,{default:e(()=>[l(m,{variant:"flat",size:"small",icon:"",color:"#E9FFF2",onClick:s[0]||(s[0]=o=>y.value=!1)},{default:e(()=>[l(u,{size:"20"},{default:e(()=>[i("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["color"]),l(W,{class:"my-0 px-0 py-0"},{default:e(()=>[n("iframe",{src:b.value,type:"application/pdf",width:"100%",height:"100%",style:{overflow:"auto","min-height":"600px"},frameborder:"0"},`\r
          `,8,fe)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},we=R(Te,[["__scopeId","data-v-7004d358"]]);export{we as default};
