import{x as B,y as H,h as A,z as y,A as L,B as O,f as c,C as I,o as C,i as h,G,j as D,l,D as f,I as N,_ as T}from"./index-af2df877.js";import{u as P}from"./hosodvc-ad889d3d.js";import{j as m}from"./mock-data-4deb64e5.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import"./jquery-da988d60.js";const V={__name:"BieuMauDienTu",props:{thutuc:{type:String,default:""},id:{type:String,default:""}},setup(M){const o=M,r=B(),{cookies:g}=H(),s=P(),u=A(),S=y(),i=L("create"),a=O(()=>u.getMenuSelected),d=c(()=>T(()=>import("./BieuMauDienTu_XLDL-956871c7.js"),["./BieuMauDienTu_XLDL-956871c7.js","./index-af2df877.js","./index-04d84f71.css","./hosodvc-ad889d3d.js","./jquery-da988d60.js","./main-db17575a.js","./main-65f8ac0a.css","./toastr-b359f669.js","./_plugin-vue_export-helper-c27b6911.js","./VRow-bee11424.js","./VRow-37f80755.css","./VWindowItem-7af60240.js","./VWindowItem-38cf7c32.css","./VCard-98977f8b.js","./VCard-f7bfd9e0.css","./VForm-9f550b47.js","./VTextarea-10408bd3.js","./VTextarea-b2a3667a.css","./VRadioGroup-7c1808cb.js","./VRadioGroup-d9c771a1.css","./VCheckbox-e3393ac4.js","./VCheckbox-1ea139e1.css","./BieuMauDienTu_XLDL-0c68b3cb.css"],import.meta.url));c(()=>T(()=>import("./BieuMauDienTu_CHUYENDL-e2ae3ddb.js"),["./BieuMauDienTu_CHUYENDL-e2ae3ddb.js","./index-af2df877.js","./index-04d84f71.css","./hosodvc-ad889d3d.js","./jquery-da988d60.js","./main-db17575a.js","./main-65f8ac0a.css","./toastr-b359f669.js","./_plugin-vue_export-helper-c27b6911.js","./VRow-bee11424.js","./VRow-37f80755.css","./VWindowItem-7af60240.js","./VWindowItem-38cf7c32.css","./VCard-98977f8b.js","./VCard-f7bfd9e0.css","./VForm-9f550b47.js","./VTextarea-10408bd3.js","./VTextarea-b2a3667a.css","./VRadioGroup-7c1808cb.js","./VRadioGroup-d9c771a1.css","./VCheckbox-e3393ac4.js","./VCheckbox-1ea139e1.css","./BieuMauDienTu_CHUYENDL-64493780.css"],import.meta.url));const v=c(()=>T(()=>import("./BieuMauDienTu_TBVP-4a3a8441.js"),["./BieuMauDienTu_TBVP-4a3a8441.js","./index-af2df877.js","./index-04d84f71.css","./hosodvc-ad889d3d.js","./jquery-da988d60.js","./main-db17575a.js","./main-65f8ac0a.css","./toastr-b359f669.js","./_plugin-vue_export-helper-c27b6911.js","./VRow-bee11424.js","./VRow-37f80755.css","./VWindowItem-7af60240.js","./VWindowItem-38cf7c32.css","./VCard-98977f8b.js","./VCard-f7bfd9e0.css","./VForm-9f550b47.js","./VTextarea-10408bd3.js","./VTextarea-b2a3667a.css","./VCheckbox-e3393ac4.js","./VCheckbox-1ea139e1.css","./BieuMauDienTu_TBVP-232a7ebb.css"],import.meta.url)),p=function(){let t={primKey:o.id};s.getChiTietHoSo(t).then(function(e){if(e.resp){if(e.resp&&e.resp.TrangThaiHoSo.MaMuc!==""&&e.resp.TrangThaiHoSo.MaMuc!=="05"){r.push({path:"/thong-tin-ho-so/"+e.resp.primKey});return}u.SET_THONGTINHOSO(e.resp);let n=e.resp.ThanhPhanHoSo.find(function(_){return _.DuLieuDienTu.hasOwnProperty("MaDinhDanh")&&_.DuLieuDienTu.MaDinhDanh});n&&E(n.DuLieuDienTu.MaDinhDanh)}else u.SET_THONGTINHOSO(null)}).catch(function(){})},E=function(t){let e={maDinhDanh:t};s.getChiTietBieuMauDienTu(e).then(function(n){n.resp&&(n.resp.BieuMauDienTu.MaMuc=="BM_DGTDDLCN"?(u.SET_DATA_FORM_BIEUMAU_XLDL(n.resp),u.SET_DATA_FORM_BIEUMAU_CDL(n.resp)):n.resp.BieuMauDienTu.MaMuc=="BM_TBVP"&&u.SET_DATA_FORM_BIEUMAU_TBVP(n.resp))}).catch(function(){})};if(o.id&&o.id!="0")i.value="update",p();else if(i.value="create",a.value.thuTuc){let t=m.thuTucHanhChinh.find(function(e){return e.maThuTuc==a.value.thuTuc.maThuTuc});t&&t.thongTinHoSo&&u.$patch(e=>{e.thongTinHoSo=Object.assign(t.thongTinHoSo,{TrangThaiDuLieu:{MaMuc:"01",TenMuc:"Sơ bộ"},DonViXuLy:{MaDinhDanh:"G01.105",TenGoi:"Cục An ninh mạng và phòng, chống tội phạm sử dụng công nghệ cao"},TrichYeuHoSo:t.tenThuTuc})})}return I(S,async t=>{if(o.id&&o.id!="0")i.value="update",p();else if(i.value="create",a.value){let e=m.thuTucHanhChinh.find(function(n){return n.maThuTuc==a.value.thuTuc.maThuTuc});e&&e.thongTinHoSo&&u.$patch(n=>{n.thongTinHoSo=Object.assign(e.thongTinHoSo,{TrangThaiDuLieu:{MaMuc:"01",TenMuc:"Sơ bộ"},DonViXuLy:{MaDinhDanh:"G01.105",TenGoi:"Cục An ninh mạng và phòng, chống tội phạm sử dụng công nghệ cao"},TrichYeuHoSo:e.tenThuTuc})})}}),C(()=>{g.get("Token")?u.SET_ISSIGNED(!0):(u.SET_ISSIGNED(!1),u.SET_USERINFO(""),r.push({path:"/login"}))}),(t,e)=>(h(),G(N,null,[o.thutuc==="thong-bao-vi-pham"?(h(),D(l(v),{key:0,action:i.value},null,8,["action"])):f("",!0),o.thutuc==="xu-ly-du-lieu"||o.thutuc==="chuyen-du-lieu"?(h(),D(l(d),{key:1,action:i.value},null,8,["action"])):f("",!0)],64))}},F=R(V,[["__scopeId","data-v-1b83e2e9"]]);export{F as default};
