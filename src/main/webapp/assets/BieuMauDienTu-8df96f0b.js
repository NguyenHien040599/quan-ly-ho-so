import{x as B,y as A,h as H,z as L,A as y,B as O,f as c,C as I,o as C,i as h,G,j as p,l as D,D as l,I as N,_ as T}from"./index-fe848f2d.js";import{u as P}from"./hosodvc-bdbcb3b1.js";import{j as f}from"./mock-data-857946d4.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import"./jquery-da988d60.js";const V={__name:"BieuMauDienTu",props:{thutuc:{type:String,default:""},id:{type:String,default:""}},setup(m){const o=m,S=B(),{cookies:g}=A(),s=P(),u=H(),M=L(),i=y("create"),a=O(()=>u.getMenuSelected),d=c(()=>T(()=>import("./BieuMauDienTu_XLDL-433c9f12.js"),["./BieuMauDienTu_XLDL-433c9f12.js","./index-fe848f2d.js","./index-b7d1aa86.css","./hosodvc-bdbcb3b1.js","./jquery-da988d60.js","./main-689c90e4.js","./main-65f8ac0a.css","./toastr-b359f669.js","./_plugin-vue_export-helper-c27b6911.js","./VRow-09778906.js","./VRow-37f80755.css","./VWindowItem-d0ec0d21.js","./VWindowItem-38cf7c32.css","./VCard-8b59fd30.js","./VCard-f7bfd9e0.css","./VForm-169f16b1.js","./VTextarea-558e9c4b.js","./VTextarea-b2a3667a.css","./VRadioGroup-f75839c5.js","./VRadioGroup-d9c771a1.css","./VCheckbox-5d20c2d4.js","./VCheckbox-1ea139e1.css","./BieuMauDienTu_XLDL-3b93eebe.css"],import.meta.url));c(()=>T(()=>import("./BieuMauDienTu_CHUYENDL-156e2890.js"),["./BieuMauDienTu_CHUYENDL-156e2890.js","./index-fe848f2d.js","./index-b7d1aa86.css","./hosodvc-bdbcb3b1.js","./jquery-da988d60.js","./main-689c90e4.js","./main-65f8ac0a.css","./toastr-b359f669.js","./_plugin-vue_export-helper-c27b6911.js","./VRow-09778906.js","./VRow-37f80755.css","./VWindowItem-d0ec0d21.js","./VWindowItem-38cf7c32.css","./VCard-8b59fd30.js","./VCard-f7bfd9e0.css","./VForm-169f16b1.js","./VTextarea-558e9c4b.js","./VTextarea-b2a3667a.css","./VRadioGroup-f75839c5.js","./VRadioGroup-d9c771a1.css","./VCheckbox-5d20c2d4.js","./VCheckbox-1ea139e1.css","./BieuMauDienTu_CHUYENDL-64493780.css"],import.meta.url));const v=c(()=>T(()=>import("./BieuMauDienTu_TBVP-db5f28e2.js"),["./BieuMauDienTu_TBVP-db5f28e2.js","./index-fe848f2d.js","./index-b7d1aa86.css","./hosodvc-bdbcb3b1.js","./jquery-da988d60.js","./main-689c90e4.js","./main-65f8ac0a.css","./toastr-b359f669.js","./_plugin-vue_export-helper-c27b6911.js","./VRow-09778906.js","./VRow-37f80755.css","./VWindowItem-d0ec0d21.js","./VWindowItem-38cf7c32.css","./VCard-8b59fd30.js","./VCard-f7bfd9e0.css","./VForm-169f16b1.js","./VTextarea-558e9c4b.js","./VTextarea-b2a3667a.css","./VCheckbox-5d20c2d4.js","./VCheckbox-1ea139e1.css","./BieuMauDienTu_TBVP-dcc6bb39.css"],import.meta.url)),r=function(){let t={primKey:o.id};s.getChiTietHoSo(t).then(function(e){if(e.resp){u.SET_THONGTINHOSO(e.resp);let n=e.resp.ThanhPhanHoSo.find(function(_){return _.DuLieuDienTu.hasOwnProperty("MaDinhDanh")&&_.DuLieuDienTu.MaDinhDanh});n&&E(n.DuLieuDienTu.MaDinhDanh)}else u.SET_THONGTINHOSO(null)}).catch(function(){})},E=function(t){let e={maDinhDanh:t};s.getChiTietBieuMauDienTu(e).then(function(n){n.resp&&(n.resp.BieuMauDienTu.MaMuc=="BM_DGTDDLCN"?(u.SET_DATA_FORM_BIEUMAU_XLDL(n.resp),u.SET_DATA_FORM_BIEUMAU_CDL(n.resp)):n.resp.BieuMauDienTu.MaMuc=="BM_TBVP"&&u.SET_DATA_FORM_BIEUMAU_TBVP(n.resp))}).catch(function(){})};if(o.id&&o.id!="0")i.value="update",r();else if(i.value="create",a.value.thuTuc){let t=f.thuTucHanhChinh.find(function(e){return e.maThuTuc==a.value.thuTuc.maThuTuc});t&&t.thongTinHoSo&&u.$patch(e=>{e.thongTinHoSo=Object.assign(t.thongTinHoSo,{TrangThaiDuLieu:{MaMuc:"01",TenMuc:"Sơ bộ"},DonViXuLy:{MaDinhDanh:"G01.105",TenGoi:"Cục An ninh mạng và phòng, chống tội phạm sử dụng công nghệ cao"},TrichYeuHoSo:t.tenThuTuc})})}return I(M,async t=>{if(o.id&&o.id!="0")i.value="update",r();else if(i.value="create",a.value){let e=f.thuTucHanhChinh.find(function(n){return n.maThuTuc==a.value.thuTuc.maThuTuc});e&&e.thongTinHoSo&&u.$patch(n=>{n.thongTinHoSo=Object.assign(e.thongTinHoSo,{TrangThaiDuLieu:{MaMuc:"01",TenMuc:"Sơ bộ"},DonViXuLy:{MaDinhDanh:"G01.105",TenGoi:"Cục An ninh mạng và phòng, chống tội phạm sử dụng công nghệ cao"},TrichYeuHoSo:e.tenThuTuc})})}}),C(()=>{g.get("Token")?u.SET_ISSIGNED(!0):(u.SET_ISSIGNED(!1),u.SET_USERINFO(""),S.push({path:"/login"}))}),(t,e)=>(h(),G(N,null,[o.thutuc==="thong-bao-vi-pham"?(h(),p(D(v),{key:0,action:i.value},null,8,["action"])):l("",!0),o.thutuc==="xu-ly-du-lieu"||o.thutuc==="chuyen-du-lieu"?(h(),p(D(d),{key:1,action:i.value},null,8,["action"])):l("",!0)],64))}},F=R(V,[["__scopeId","data-v-2fa35064"]]);export{F as default};
