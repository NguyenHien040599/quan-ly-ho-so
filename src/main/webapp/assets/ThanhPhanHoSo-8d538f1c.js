import{e as $,A as _,h as F,B as j,N as L,o as N,i as a,j as r,w as o,d as s,k as n,t as u,v as i,D as h,G as p,I as E,H as V,l as K,F as f,E as q,q as k,s as G,M as z,K as O,L as R}from"./index-af2df877.js";import"./jquery-da988d60.js";import{u as U}from"./hosodvc-ad889d3d.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import{V as m,a as H}from"./VRow-bee11424.js";import{V as C}from"./VTooltip-4cdaab80.js";import{V as Y,a as J,b as Q,c as W}from"./VToolbarItems-34e8de7b.js";import{V as M,a as Z}from"./VCard-98977f8b.js";const T=y=>(O("data-v-57ddeb70"),y=y(),R(),y),ee={class:"sub-header-content"},oe=T(()=>n("div",{class:"triangle-header"},null,-1)),te=T(()=>n("div",{class:"text-sub-header"},"Thành phần hồ sơ",-1)),ae={style:{"font-weight":"600",width:"100%"}},le={key:0,style:{color:"red"}},se=["onClick"],ie=T(()=>n("span",null,"Tải xuống",-1)),ne={key:1,style:{width:"100%"}},ue={style:{width:"100%"},class:""},re={key:0},de=["onClick"],ce={class:"ml-2",style:{"font-size":"14px","text-decoration":"underline",color:"#1E7D30"}},pe=T(()=>n("span",null,"Tải xuống",-1)),fe={key:5},he=T(()=>n("div",{class:"sub-header-content"}," Tệp tin đính kèm ",-1)),Te=T(()=>n("div",{class:"triangle-header"},null,-1)),ye=["src"],_e={__name:"ThanhPhanHoSo",props:{chiTietHoSo:{type:Boolean,default:!1}},setup(y){$();const v=_("#1E7D30"),A=F(),B=U();_(!1);const x=_(!1),D=_(!1),b=_(""),I=j(function(){let d=A.thongTinHoSo.ThanhPhanHoSo.filter(function(l){return!l.MaThanhPhanHoSo||l.MaThanhPhanHoSo&&l.MaThanhPhanHoSo.MaMuc.split("_")[0]!=="BMDT"});return d.forEach((l,e)=>{d[e].itemsGiayTo=d.filter(function(c){let t=c.IDGiayTo.split("-");return(t[0]=="GTK"||t[0]=="GTBS")&&t[1]==l.IDGiayTo})}),d.filter(function(l){return String(l.IDGiayTo).split("-")[0]!=="GTK"&&String(l.IDGiayTo).split("-")[0]!=="GTBS"})});L([{sortable:!1,title:"Tên giấy tờ",align:"left",key:"tenGiayTo",class:"td-left"},{sortable:!1,title:"Tệp đính kèm",align:"left",key:"tepDinhKem",class:"td-left"}]),L([{sortable:!1,title:"TT",align:"center",key:"index",class:"td-left"},{sortable:!1,title:"Tên giấy tờ",align:"left",key:"tepDinhKem",class:"td-left"}]);const g=function(d,l){x.value||(x.value=!0,B.taiTep(d).then(function(e){if(console.log("resultFile",e),x.value=!1,l=="preview")b.value=e,D.value=!0;else{var c=document.createElement("a");document.body.appendChild(c),c.style="display: none",c.href=e,c.download=d.TenTep,c.click()}}).catch(function(e){console.log("error-resultFile",e),x.value=!1}))},P=function(d){let l=new Date(d);return`${l.getDate().toString().padStart(2,"0")}/${(l.getMonth()+1).toString().padStart(2,"0")}/${l.getFullYear()} ${l.getHours().toString().padStart(2,"0")}:${l.getMinutes().toString().padStart(2,"0")}`};return N(()=>{}),(d,l)=>(a(),r(M,{class:"pa-0 thanhphanhoso",style:{"box-shadow":"none !important",width:"100%"}},{default:o(()=>[y.chiTietHoSo?h("",!0):(a(),r(m,{key:0,class:"mx-0 my-0 mt-3 mb-2"},{default:o(()=>[s(H,{class:"sub-header d-flex align-center justify-start py-0 px-0"},{default:o(()=>[n("div",ee,[s(u,{size:"22",color:"#ffffff"},{default:o(()=>[i("mdi-view-dashboard-outline")]),_:1})]),oe,te]),_:1})]),_:1})),s(m,{class:"mx-0 my-0",style:{"border-top":"1px solid #DADADA","border-left":"1px solid #DADADA"}},{default:o(()=>[(a(!0),p(E,null,V(K(I),(e,c)=>(a(),r(m,{key:e.IDGiayTo,class:"mx-0 my-0 px-2 py-2",style:{width:"100%","border-bottom":"1px solid #DADADA","border-right":"1px solid #DADADA","align-items":"center","min-height":"42px"}},{default:o(()=>[n("div",ae,[n("span",null,f(c+1)+". ",1),n("span",null,f(e.TenGiayTo),1),i(),e.HinhThucGiayTo.TenMuc=="true"?(a(),p("span",le,"(*)")):h("",!0)]),e.TepDuLieu.KichThuocTep?(a(),p("div",{key:0,class:"py-1",onClick:t=>g(e.TepDuLieu,"preview"),style:{width:"100%",cursor:"pointer"}},[e.TepDuLieu.Ext==="xls"||e.TepDuLieu.Ext==="xlsx"?(a(),r(u,{key:0,size:"18",color:"green"},{default:o(()=>[i("mdi-file-excel-outline")]),_:1})):e.TepDuLieu.Ext==="doc"||e.TepDuLieu.Ext==="docx"?(a(),r(u,{key:1,size:"18",color:"blue"},{default:o(()=>[i("mdi-file-word-outline")]),_:1})):e.TepDuLieu.Ext==="pdf"?(a(),r(u,{key:2,size:"18",color:"red"},{default:o(()=>[i("mdi-file-pdf-box")]),_:1})):e.TepDuLieu.Ext==="png"||e.TepDuLieu.Ext==="jpg"||e.TepDuLieu.Ext==="jpeg"?(a(),r(u,{key:3,size:"18",color:"blue"},{default:o(()=>[i("mdi-file-image")]),_:1})):(a(),r(u,{key:4,size:"18",color:"#2161b1"},{default:o(()=>[i("mdi-paperclip")]),_:1})),n("a",{class:"ml-2",style:q(e.DaHuyBoThayThe?"color: grey;text-decoration: underline;cursor: pointer":"text-decoration: underline;color: #1E7D30;cursor: pointer")},f(e.TepDuLieu.TenTep)+"."+f(e.TepDuLieu.Ext),5),s(C,{location:"top"},{activator:o(({props:t})=>[s(k,G({icon:"",variant:"flat",size:"small"},t,{class:"mr-0",onClick:z(S=>g(e.TepDuLieu,"download"),["stop"])}),{default:o(()=>[s(u,{size:"18",color:v.value},{default:o(()=>[i("mdi-cloud-download-outline")]),_:1},8,["color"])]),_:2},1040,["onClick"])]),default:o(()=>[ie]),_:2},1024),n("i",null,f(e.DaHuyBoThayThe?"(Đã hủy bỏ/thay thế)":""),1)],8,se)):h("",!0),e.HinhThucGiayTo.MaMuc=="true"||e.hasOwnProperty("itemsGiayTo")&&e.itemsGiayTo?(a(),p("div",ne,[(a(!0),p(E,null,V(e.itemsGiayTo,(t,S)=>(a(),p("div",{key:S},[n("div",ue,[e.HinhThucGiayTo.MaMuc=="true"?(a(),p("span",re,"- "+f(t.TenGiayTo)+": ",1)):h("",!0),t.TepDuLieu.KichThuocTep?(a(),p("span",{key:1,class:"py-1",onClick:w=>g(t.TepDuLieu,"preview")},[t.TepDuLieu.Ext==="xls"||t.TepDuLieu.Ext==="xlsx"?(a(),r(u,{key:0,size:"18",color:"green"},{default:o(()=>[i("mdi-file-excel-outline")]),_:1})):t.TepDuLieu.Ext==="doc"||t.TepDuLieu.Ext==="docx"?(a(),r(u,{key:1,size:"18",color:"blue"},{default:o(()=>[i("mdi-file-word-outline")]),_:1})):t.TepDuLieu.Ext==="pdf"?(a(),r(u,{key:2,size:"18",color:"red"},{default:o(()=>[i("mdi-file-pdf-box")]),_:1})):t.TepDuLieu.Ext==="png"||t.TepDuLieu.Ext==="jpg"||t.TepDuLieu.Ext==="jpeg"?(a(),r(u,{key:3,size:"18",color:"blue"},{default:o(()=>[i("mdi-file-image")]),_:1})):(a(),r(u,{key:4,size:"18",color:"#2161b1"},{default:o(()=>[i("mdi-paperclip")]),_:1})),n("a",ce,f(t.TepDuLieu.TenTep)+"."+f(t.TepDuLieu.Ext),1),s(C,{location:"top"},{activator:o(({props:w})=>[s(k,G({icon:"",variant:"flat",size:"small"},w,{class:"mr-0",onClick:z(xe=>g(t.TepDuLieu,"download"),["stop"])}),{default:o(()=>[s(u,{size:"18",color:v.value},{default:o(()=>[i("mdi-cloud-download-outline")]),_:1},8,["color"])]),_:2},1040,["onClick"])]),default:o(()=>[pe]),_:2},1024),t.NgayBoSung?(a(),p("i",fe,"(Ngày bổ sung: "+f(P(t.NgayBoSung))+")",1)):h("",!0)],8,de)):h("",!0)])]))),128))])):h("",!0)]),_:2},1024))),128))]),_:1}),s(Y,{"max-width":"1000",modelValue:D.value,"onUpdate:modelValue":l[1]||(l[1]=e=>D.value=e),persistent:""},{default:o(()=>[s(M,null,{default:o(()=>[s(J,{dark:"",color:v.value,class:"px-0"},{default:o(()=>[s(H,{class:"sub-header d-flex align-center justify-start py-0 px-0"},{default:o(()=>[he,Te]),_:1}),s(Q),s(W,null,{default:o(()=>[s(k,{variant:"flat",size:"small",icon:"",color:"#E9FFF2",onClick:l[0]||(l[0]=e=>D.value=!1)},{default:o(()=>[s(u,{size:"20"},{default:o(()=>[i("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["color"]),s(Z,{class:"my-0 px-0 py-0"},{default:o(()=>[n("iframe",{src:b.value,type:"application/pdf",width:"100%",height:"100%",style:{overflow:"auto","min-height":"600px"},frameborder:"0"},`\r
          `,8,ye)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Le=X(_e,[["__scopeId","data-v-57ddeb70"]]);export{Le as default};
