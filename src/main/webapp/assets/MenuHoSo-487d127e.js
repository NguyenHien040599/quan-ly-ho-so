import{G as C,l as N,f as x,t as V,s as y,n as w,H as B,o as b,h as d,i as T,w as a,d as l,T as H,x as U,F as k,y as G,U as I,L as v,A as P,k as j,z,M as R,j as D,B as p,W as A,v as F}from"./index-7fb0df29.js";import{u as K}from"./hosodvc-d313947c.js";import{j as O}from"./mock-data-c2a645df.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import{V as W}from"./VTooltip-5377d49a.js";import{V as $}from"./VCard-94fb6d50.js";import"./jquery-da988d60.js";const q={class:"label-counter"},J={__name:"MenuHoSo",setup(Q){const M=K(),L=C(),f=N(),u=f.currentRoute.value,r=x(),o=V(O.menuHoSo),_=y(()=>r.getMenuSelected);if(u&&u.params.hasOwnProperty("thutuc")&&u.params.thutuc){let t=o.find(function(n){return n.to.split("/")[1]===u.params.thutuc});r.SET_MENU_SELECTED(t)}else if(u.name=="ThongBao"){let t=o.find(function(n){return n.id==="thongbao"});r.SET_MENU_SELECTED(t)}else r.SET_MENU_SELECTED(o[0]);console.log("menuSelected",_),w(!1);const m=function(){let t={doiTuong:"thutuchanhchinh"};M.thongKeHoSo(t).then(function(n){o[0].counter=0,o[1].counter=0,o[2].counter=0;let e=n.resp,c=e.find(function(s){return s.MaMuc=="TBVP"});c&&(o[0].counter=c.SoLuong);let i=e.find(function(s){return s.MaMuc=="DGTD_XLDLCN"}),E=e.find(function(s){return s.MaMuc=="TDND_DGTD_XLDLCN"});i&&(o[1].counter+=i.SoLuong),E&&(o[1].counter+=E.SoLuong);let S=e.find(function(s){return s.MaMuc=="DGTD_CDLCN"}),h=e.find(function(s){return s.MaMuc=="TDND_DGTD_CDLCN"});S&&(o[2].counter+=S.SoLuong),h&&(o[2].counter+=h.SoLuong)}).catch(function(){})};m();const g=function(t){r.SET_MENU_SELECTED(t),f.push({path:t.to})};return B(L,async t=>{if(m(),t.name!=="ThongTinHoSo"&&t.name!=="BieuMauDienTu")if(console.log("run watch-routes2:",t.name,t.params),t&&t.params.hasOwnProperty("thutuc")&&t.params.thutuc){let n=o.find(function(e){return e.to.split("/")[1]===t.params.thutuc});r.SET_MENU_SELECTED(n)}else if(t.name=="ThongBao"){let n=o.find(function(e){return e.id==="thongbao"});r.SET_MENU_SELECTED(n)}else r.SET_MENU_SELECTED(o[0])}),b(()=>{}),(t,n)=>(d(),T($,{style:{"border-radius":"0","border-top-left-radius":"3px","border-top-right-radius":"3px","border-top":"3px solid #1E7D30"}},{default:a(()=>[l(H,{dense:"",class:"menu-drawer pt-0"},{default:a(()=>[(d(!0),U(k,null,G(o,(e,c)=>(d(),T(I,{key:c,onClick:v(i=>g(e,c),["stop"]),class:P(e.id===j(_).id?"item-active list-menu":"list-menu")},{prepend:a(()=>[l(W,{top:"",color:"#0073C8"},{activator:a(({props:i})=>[l(z,R(i,{class:"icon-draw",style:{"font-size":"26px !important"},icon:e.icon}),null,16,["icon"])]),default:a(()=>[D("span",null,p(e.title),1)]),_:2},1024)]),append:a(()=>[D("span",q,p(e.counter),1)]),default:a(()=>[l(A,{class:"text-list pr-2"},{default:a(()=>[F(p(e.title),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1}))}},rt=X(J,[["__scopeId","data-v-cde26212"]]);export{rt as default};
