import{e as $,A as h,h as G,B as N,M as V,o as A,r as q,i as t,j as i,w as a,d as o,k as l,t as s,v as n,l as w,G as u,F as z,q as y,s as S,O as C,E as P,K as O,L as R}from"./index-012aba98.js";import"./jquery-da988d60.js";import{u as U}from"./hosodvc-33b4207f.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import{V as x,a as H}from"./VRow-d6ac88c9.js";import{V as M}from"./VTooltip-0e94ffab.js";import{c as J,V as Q,a as W,b as Y}from"./VToolbarItems-355b3c6f.js";import{V as E,a as Z}from"./VCard-56b1f699.js";const p=f=>(O("data-v-4d16bb37"),f=f(),R(),f),ee={class:"sub-header-content"},ae=p(()=>l("div",{class:"triangle-header"},null,-1)),oe=p(()=>l("div",{class:"text-sub-header"},"Thành phần hồ sơ",-1)),le={class:"align-left"},te={class:"align-left",width:"350"},se=["onClick"],ne={class:"ml-2",style:{"font-size":"14px","text-decoration":"underline",color:"#1E7D30"}},ie=p(()=>l("span",null,"Tải xuống",-1)),de={class:"align-center",width:"30"},re={class:"align-left"},ue={class:"pt-1"},ce=["onClick"],pe={class:"ml-2",style:{"font-size":"14px","text-decoration":"underline",color:"#1E7D30"}},he=p(()=>l("span",null,"Tải xuống",-1)),fe=p(()=>l("div",{class:"sub-header-content"}," Tệp tin đính kèm ",-1)),_e=p(()=>l("div",{class:"triangle-header"},null,-1)),Te=["src"],De={__name:"ThanhPhanHoSo",setup(f){const{mobile:K}=$(),m=h("#1E7D30"),j=G(),B=U(),b=h(!1),_=h(!1),T=h(!1),k=h(""),L=N(function(){return j.thongTinHoSo.ThanhPhanHoSo.filter(function(r){return!r.MaThanhPhanHoSo||r.MaThanhPhanHoSo&&r.MaThanhPhanHoSo.MaMuc.split("_")[0]!=="BMDT"})}),F=V([{sortable:!1,title:"Tên giấy tờ",align:"left",key:"tenGiayTo",class:"td-left"},{sortable:!1,title:"Tệp đính kèm",align:"left",key:"tepDinhKem",class:"td-left"}]),I=V([{sortable:!1,title:"TT",align:"center",key:"index",class:"td-left"},{sortable:!1,title:"Tên giấy tờ",align:"left",key:"tepDinhKem",class:"td-left"}]),D=function(r,c){_.value||(_.value=!0,B.taiTep(r).then(function(d){if(console.log("resultFile",d),_.value=!1,c=="preview")k.value=d,T.value=!0;else{var e=document.createElement("a");document.body.appendChild(e),e.style="display: none",e.href=d,e.download=r.TenTep,e.click()}}).catch(function(d){console.log("error-resultFile",d),_.value=!1}))};return A(()=>{}),(r,c)=>{const d=q("v-data-table");return t(),i(E,{class:"pa-0 thanhphanhoso",style:{"box-shadow":"none !important",width:"100%"}},{default:a(()=>[o(x,{class:"mx-0 my-0 mt-3"},{default:a(()=>[o(H,{class:"sub-header d-flex align-center justify-start py-0 px-0"},{default:a(()=>[l("div",ee,[o(s,{size:"22",color:"#ffffff"},{default:a(()=>[n("mdi-view-dashboard-outline")]),_:1})]),ae,oe]),_:1})]),_:1}),w(K)?(t(),i(x,{key:1,class:"mx-0 my-0 mt-2"},{default:a(()=>[o(d,{headers:I,items:w(L),"items-per-page":"20","item-value":"primKey","hide-default-footer":"",class:"table-base table-tphs","no-data":"Không có dữ liệu",loading:b.value,"loading-text":"Đang tải... "},{item:a(({item:e,index:g})=>[l("tr",null,[l("td",de,u(g+1),1),l("td",re,[l("div",ue,u(e.raw.TenGiayTo),1),e.raw.TepDuLieu.KichThuocTep?(t(),z("div",{key:0,class:"py-1",onClick:v=>D(e.raw.TepDuLieu,"preview")},[e.raw.TepDuLieu.DinhDangTep==="xls"||e.raw.TepDuLieu.DinhDangTep==="xlsx"?(t(),i(s,{key:0,size:"18",color:"green"},{default:a(()=>[n("mdi-file-excel-outline")]),_:1})):e.raw.TepDuLieu.DinhDangTep==="doc"||e.raw.TepDuLieu.DinhDangTep==="docx"?(t(),i(s,{key:1,size:"18",color:"blue"},{default:a(()=>[n("mdi-file-word-outline")]),_:1})):e.raw.TepDuLieu.DinhDangTep==="pdf"?(t(),i(s,{key:2,size:"18",color:"red"},{default:a(()=>[n("mdi-file-pdf-box")]),_:1})):e.raw.TepDuLieu.DinhDangTep==="png"||e.raw.TepDuLieu.DinhDangTep==="jpg"||e.raw.TepDuLieu.DinhDangTep==="jpeg"?(t(),i(s,{key:3,size:"18",color:"blue"},{default:a(()=>[n("mdi-file-image")]),_:1})):(t(),i(s,{key:4,size:"18",color:"#2161b1"},{default:a(()=>[n("mdi-paperclip")]),_:1})),l("a",pe,u(e.raw.TepDuLieu.TenTep)+"."+u(e.raw.TepDuLieu.Ext),1),o(M,{location:"top"},{activator:a(({props:v})=>[o(y,S({icon:"",variant:"flat",size:"small"},v,{class:"mr-2",onClick:C(ge=>D(e.raw.TepDuLieu,"download"),["stop"])}),{default:a(()=>[o(s,{size:"18",color:m.value},{default:a(()=>[n("mdi-cloud-download-outline")]),_:1},8,["color"])]),_:2},1040,["onClick"])]),default:a(()=>[he]),_:2},1024)],8,ce)):P("",!0)])])]),_:1},8,["headers","items","loading"])]),_:1})):(t(),i(x,{key:0,class:"mx-0 my-0 mt-2"},{default:a(()=>[o(d,{headers:F,items:w(L),"items-per-page":"20","item-value":"primKey","hide-default-footer":"",class:"table-base table-tphs","no-data":"Không có dữ liệu",loading:b.value,"loading-text":"Đang tải... "},{item:a(({item:e})=>[l("tr",null,[l("td",le,u(e.raw.TenGiayTo),1),l("td",te,[e.raw.TepDuLieu.KichThuocTep?(t(),z("div",{key:0,class:"py-1",onClick:g=>D(e.raw.TepDuLieu,"preview")},[e.raw.TepDuLieu.DinhDangTep==="xls"||e.raw.TepDuLieu.DinhDangTep==="xlsx"?(t(),i(s,{key:0,size:"18",color:"green"},{default:a(()=>[n("mdi-file-excel-outline")]),_:1})):e.raw.TepDuLieu.DinhDangTep==="doc"||e.raw.TepDuLieu.DinhDangTep==="docx"?(t(),i(s,{key:1,size:"18",color:"blue"},{default:a(()=>[n("mdi-file-word-outline")]),_:1})):e.raw.TepDuLieu.DinhDangTep==="pdf"?(t(),i(s,{key:2,size:"18",color:"red"},{default:a(()=>[n("mdi-file-pdf-box")]),_:1})):e.raw.TepDuLieu.DinhDangTep==="png"||e.raw.TepDuLieu.DinhDangTep==="jpg"||e.raw.TepDuLieu.DinhDangTep==="jpeg"?(t(),i(s,{key:3,size:"18",color:"blue"},{default:a(()=>[n("mdi-file-image")]),_:1})):(t(),i(s,{key:4,size:"18",color:"#2161b1"},{default:a(()=>[n("mdi-paperclip")]),_:1})),l("a",ne,u(e.raw.TepDuLieu.TenTep)+"."+u(e.raw.TepDuLieu.Ext),1),o(M,{location:"top"},{activator:a(({props:g})=>[o(y,S({icon:"",variant:"flat",size:"small"},g,{class:"mr-2",onClick:C(v=>D(e.raw.TepDuLieu,"download"),["stop"])}),{default:a(()=>[o(s,{size:"18",color:m.value},{default:a(()=>[n("mdi-cloud-download-outline")]),_:1},8,["color"])]),_:2},1040,["onClick"])]),default:a(()=>[ie]),_:2},1024)],8,se)):P("",!0)])])]),_:1},8,["headers","items","loading"])]),_:1})),o(J,{"max-width":"1000",modelValue:T.value,"onUpdate:modelValue":c[1]||(c[1]=e=>T.value=e),persistent:""},{default:a(()=>[o(E,null,{default:a(()=>[o(Q,{dark:"",color:m.value,class:"px-0"},{default:a(()=>[o(H,{class:"sub-header d-flex align-center justify-start py-0 px-0"},{default:a(()=>[fe,_e]),_:1}),o(W),o(Y,null,{default:a(()=>[o(y,{variant:"flat",size:"small",icon:"",color:"#E9FFF2",onClick:c[0]||(c[0]=e=>T.value=!1)},{default:a(()=>[o(s,{size:"20"},{default:a(()=>[n("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["color"]),o(Z,{class:"my-0 px-0 py-0"},{default:a(()=>[l("iframe",{src:k.value,type:"application/pdf",width:"100%",height:"100%",style:{overflow:"auto","min-height":"600px"},frameborder:"0"},`\r
          `,8,Te)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Ve=X(De,[["__scopeId","data-v-4d16bb37"]]);export{Ve as default};
