import{e as G,h as B,z as R,A as i,y as A,N as F,C as L,o as U,r as Y,i as u,j as H,w as t,J as j,l as O,d as a,v as o,O as $,R as q,q as P,M as J,t as y,G as f,k as e,I as M,H as V,D as S,F as r,K as Q,L as W}from"./index-af2df877.js";import{u as X}from"./hosodvc-ad889d3d.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";import{V as tt}from"./VCard-98977f8b.js";import{a as c,V as p}from"./VRow-bee11424.js";import"./jquery-da988d60.js";const h=x=>(Q("data-v-89d5b409"),x=x(),W(),x),et=h(()=>e("span",{style:{"font-weight":"600"}},"Mã hồ sơ/ Số CCCD/ Mã số thuế/ Mã số doanh nghiệp ",-1)),at=h(()=>e("span",{style:{"font-size":"16px"}},"Tra cứu",-1)),ot={key:0,class:"mt-3",style:{"max-width":"900px",margin:"0 auto","margin-bottom":"30px"}},st={style:{"font-weight":"600"}},lt=h(()=>e("span",null,"Chủ hồ sơ: ",-1)),nt={style:{"font-weight":"600"}},it=h(()=>e("span",null,"Ngày nộp: ",-1)),ut={style:{"font-weight":"600"}},rt=h(()=>e("span",null,"Trạng thái hồ sơ: ",-1)),ct={style:{"font-weight":"600"}},dt={key:0,style:{height:"45px",padding:"10px 0"}},pt={class:"mt-4",style:{"max-width":"900px",margin:"0 auto"}},ht={key:0,style:{height:"45px",padding:"10px 0"}},mt={style:{"font-weight":"600"}},_t={style:{"font-style":"italic"}},ft=h(()=>e("span",null,"Chủ hồ sơ: ",-1)),gt={style:{"font-weight":"600"}},yt=h(()=>e("span",null,"Trạng thái hồ sơ: ",-1)),xt={style:{"font-weight":"600"}},vt={key:0},St={__name:"TraCuuHoSo",setup(x){const{mobile:z}=G();B();const w=X(),E=R(),b=i(0);A(),F([{sortable:!1,title:"STT",align:"center",key:"stt"},{sortable:!1,title:"Mã hồ sơ",align:"left",key:"HoVaTen"},{sortable:!1,title:"Ngày tạo",align:"left",key:"NgaySinh"},{sortable:!1,title:"Thủ tục",align:"left",key:"MaSinhVien"},{sortable:!1,title:"Tình trạng",align:"left",key:"GioiTinh"}]);const g=i(""),k=i([]),m=i(!1),T=i(!1),_=i([]),C=i(0),v=i(0),K=i(0),N=function(){if(!g.value||!String(g.value).trim())return;T.value=!0;let n={params:{page:0,size:20,keyword:String(g.value).trim()}};m.value=!0,w.getTraCuuHoSo(n).then(function(l){m.value=!1,k.value=l.content,C.value=l.totalElements}).catch(function(){m.value=!1,dsHoSo.value=[],C.value=0,pageCount.value=0})},D=function({done:n}){let l={params:{page:b.value,size:5,trangThaiHoSo_MaMuc:"02"}};m.value=!0,w.getTraCuuHoSo(l).then(function(d){m.value=!1,d.content.length&&(b.value+=1),_.value=_.value.concat(d.content),v.value=d.totalElements,K.value=d.totalPages,_.value.length<=d.totalElements?n("empty"):n("ok")}).catch(function(){m.value=!1,_.value=[],v.value=0,n("empty")})},I=function(n){if(!n)return"";let l=new Date(n);return`${l.getDate().toString().padStart(2,"0")}/${(l.getMonth()+1).toString().padStart(2,"0")}/${l.getFullYear()}`};return L(E,async n=>{D()}),U(()=>{}),(n,l)=>{const d=Y("v-infinite-scroll");return u(),H(tt,{class:j(O(z)?"wrap-c-tracuu  wrap-c-tracuu-mobile mx-auto":"wrap-c-tracuu mx-auto mt-3")},{default:t(()=>[a(p,{justify:"center",class:"mx-0 my-0"},{default:t(()=>[a(c,{cols:"12",class:"px-0 py-0 text-header"},{default:t(()=>[o(" TRA CỨU HỒ SƠ ")]),_:1})]),_:1}),a(p,{class:"mx-0",style:{"margin-top":"12px !important","margin-bottom":"24px !important",margin:"0 auto"}},{default:t(()=>[a(c,{cols:"12",class:"px-0 py-0",style:{"line-height":"32px","max-width":"700px",margin:"0 auto"}},{default:t(()=>[et]),_:1}),a(c,{cols:"12",class:"px-0 py-0",style:{"max-width":"700px",margin:"0 auto"}},{default:t(()=>[a($,{"prepend-inner-icon":"mdi-file-document-edit-outline",class:"flex input-form",modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=s=>g.value=s),placeholder:"Nhập thông tin tra cứu",solo:"",dense:"","hide-details":"auto",clearable:"",onKeyup:q(N,["enter"])},null,8,["modelValue","onKeyup"])]),_:1})]),_:1}),a(p,{justify:"center",class:"mx-0 my-0",style:{"margin-top":"25px !important","margin-bottom":"25px !important"}},{default:t(()=>[a(P,{size:"small",color:"#1E7D30",class:"mx-0",style:{float:"right"},onClick:J(N,["stop"]),height:"35px",width:"150px"},{default:t(()=>[a(y,{size:"24",color:"#ffffff",class:"mr-2"},{default:t(()=>[o("mdi-magnify")]),_:1}),at]),_:1},8,["onClick"])]),_:1}),T.value?(u(),f("div",ot,[a(p,{class:"my-0 mx-0"},{default:t(()=>[a(c,{cols:"12",class:"px-0 py-0 text-header-ho-so py-2"},{default:t(()=>[a(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[o("mdi-text-box-search-outline")]),_:1}),o(" KẾT QUẢ TRA CỨU ")]),_:1})]),_:1}),e("div",null,[(u(!0),f(M,null,V(k.value,s=>(u(),H(p,{key:s,class:"mx-0 my-0",style:{"align-items":"center","max-height":"60px","border-bottom":"1px dotted rgb(167, 165, 165)",padding:"5px 0px"}},{default:t(()=>[a(c,{class:"px-0 py-0",style:{"max-width":"40px"}},{default:t(()=>[a(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[o("mdi-chevron-double-right")]),_:1})]),_:1}),a(c,{class:"py-0"},{default:t(()=>[e("div",null,[e("span",st,r(s.MaDinhDanh),1),o(" - "),e("span",null,r(s.TrichYeuHoSo),1)]),e("div",null,[lt,o(),e("span",nt,r(s.ChuHoSo.TenGoi),1),o(" - "),it,o(),e("span",ut,r(s.NgayNopHoSo?I(s.NgayNopHoSo):""),1),o(" - "),rt,o(),e("span",ct,r(s.TrangThaiHoSo.TenMuc),1)])]),_:2},1024)]),_:2},1024))),128)),T.value&&!C.value?(u(),f("div",dt,"KHÔNG CÓ HỒ SƠ NÀO ĐƯỢC TÌM THẤY")):S("",!0)])])):S("",!0),e("div",pt,[a(p,{class:"my-0 mx-0"},{default:t(()=>[a(c,{cols:"12",class:"px-0 py-0 text-header-ho-so py-2"},{default:t(()=>[a(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[o("mdi-text-box-check-outline")]),_:1}),o(" HỒ SƠ MỚI TIẾP NHẬN ")]),_:1})]),_:1}),e("div",null,[v.value?S("",!0):(u(),f("div",ht,"KHÔNG CÓ HỒ SƠ NÀO")),a(d,{height:250,items:_.value,onLoad:D},{empty:t(()=>[v.value?(u(),f("div",vt,"Không còn hồ sơ nào!")):S("",!0)]),default:t(()=>[(u(!0),f(M,null,V(_.value,s=>(u(),H(p,{key:s.primKey,class:"mx-0 my-0",style:{"align-items":"center","max-height":"60px","border-bottom":"1px dotted rgb(167, 165, 165)",padding:"5px 0px"}},{default:t(()=>[a(c,{class:"px-0 py-0",style:{"max-width":"40px"}},{default:t(()=>[a(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[o("mdi-chevron-double-right")]),_:1})]),_:1}),a(c,{class:"py-0"},{default:t(()=>[e("div",null,[e("span",mt,r(s.MaDinhDanh),1),o(" - "),e("span",null,r(s.TrichYeuHoSo),1)]),e("div",_t,[ft,o(),e("span",gt,r(s.ChuHoSo.TenGoi),1),o(" - "),yt,o(),e("span",xt,r(s.TrangThaiHoSo.TenMuc),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["items"])])])]),_:1},8,["class"])}}},Nt=Z(St,[["__scopeId","data-v-89d5b409"]]);export{Nt as default};
