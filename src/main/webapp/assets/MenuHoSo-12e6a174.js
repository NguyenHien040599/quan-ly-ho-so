import{n as C,l as N,f as x,I as V,s as y,q as w,t as B,o as b,h as d,i as T,w as a,d as l,T as U,B as k,F as H,C as I,U as G,L as P,D as j,k as v,z,M as R,j as D,y as p,W as A,A as F}from"./index-5f8c8cac.js";import{u as K}from"./hosodvc-33e93a11.js";import{j as O}from"./mock-data-afd9a04b.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import{V as q}from"./VTooltip-c4737b4a.js";import{V as W}from"./VCard-7629d27a.js";import"./jquery-da988d60.js";const $={class:"label-counter"},J={__name:"MenuHoSo",setup(Q){const M=K(),L=C(),f=N(),u=f.currentRoute.value,r=x(),o=V(O.menuHoSo),_=y(()=>r.getMenuSelected);if(u&&u.params.hasOwnProperty("thutuc")&&u.params.thutuc){let t=o.find(function(n){return n.to.split("/")[1]===u.params.thutuc});r.SET_MENU_SELECTED(t)}else if(u.name=="ThongBao"){let t=o.find(function(n){return n.id==="thongbao"});r.SET_MENU_SELECTED(t)}else r.SET_MENU_SELECTED(o[0]);console.log("menuSelected",_),w(!1);const m=function(){let t={doiTuong:"thutuchanhchinh"};M.thongKeHoSo(t).then(function(n){o[0].counter=0,o[1].counter=0,o[2].counter=0;let e=n.resp,c=e.find(function(s){return s.MaMuc=="TBVP"});c&&(o[0].counter=c.SoLuong);let i=e.find(function(s){return s.MaMuc=="DGTD_XLDLCN"}),E=e.find(function(s){return s.MaMuc=="TDND_DGTD_XLDLCN"});i&&(o[1].counter+=i.SoLuong),E&&(o[1].counter+=E.SoLuong);let S=e.find(function(s){return s.MaMuc=="DGTD_CDLCN"}),h=e.find(function(s){return s.MaMuc=="TDND_DGTD_CDLCN"});S&&(o[2].counter+=S.SoLuong),h&&(o[2].counter+=h.SoLuong)}).catch(function(){})};m();const g=function(t){r.SET_MENU_SELECTED(t),f.push({path:t.to})};return B(L,async t=>{if(m(),t.name!=="ThongTinHoSo"&&t.name!=="BieuMauDienTu")if(console.log("run watch-routes2:",t.name,t.params),t&&t.params.hasOwnProperty("thutuc")&&t.params.thutuc){let n=o.find(function(e){return e.to.split("/")[1]===t.params.thutuc});r.SET_MENU_SELECTED(n)}else if(t.name=="ThongBao"){let n=o.find(function(e){return e.id==="thongbao"});r.SET_MENU_SELECTED(n)}else r.SET_MENU_SELECTED(o[0])}),b(()=>{}),(t,n)=>(d(),T(W,{style:{"border-radius":"0","border-top-left-radius":"3px","border-top-right-radius":"3px","border-top":"3px solid #1E7D30"}},{default:a(()=>[l(U,{dense:"",class:"menu-drawer pt-0"},{default:a(()=>[(d(!0),k(H,null,I(o,(e,c)=>(d(),T(G,{key:c,onClick:P(i=>g(e,c),["stop"]),class:j(e.id===v(_).id?"item-active list-menu":"list-menu")},{prepend:a(()=>[l(q,{top:"",color:"#0073C8"},{activator:a(({props:i})=>[l(z,R(i,{class:"icon-draw",style:{"font-size":"26px !important"},icon:e.icon}),null,16,["icon"])]),default:a(()=>[D("span",null,p(e.title),1)]),_:2},1024)]),append:a(()=>[D("span",$,p(e.counter),1)]),default:a(()=>[l(A,{class:"text-list pr-2"},{default:a(()=>[F(p(e.title),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1}))}},rt=X(J,[["__scopeId","data-v-cde26212"]]);export{rt as default};
