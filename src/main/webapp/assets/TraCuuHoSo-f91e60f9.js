import{e as G,h as K,z as B,A as l,y as A,M as R,C as U,o as j,r as F,i as n,j as H,w as t,J as L,l as O,d as e,v as s,N as Y,q,O as P,t as y,F as _,k as a,I as D,H as M,E as T,G as c,K as J,L as Q}from"./index-fa19424d.js";import{u as X}from"./hosodvc-313d9caf.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Z}from"./VCard-e9c79ce7.js";import{a as i,V as p}from"./VRow-75f849c9.js";import"./jquery-da988d60.js";const f=g=>(J("data-v-d158303e"),g=g(),Q(),g),$=f(()=>a("span",{style:{"font-weight":"600"}},"Mã hồ sơ/ Số CCCD/ Mã số thuế/ Mã số doanh nghiệp ",-1)),tt=f(()=>a("span",{style:{"font-size":"16px"}},"Tra cứu",-1)),et={key:0,class:"mt-3",style:{"max-width":"900px",margin:"0 auto","margin-bottom":"30px"}},at={style:{"font-weight":"600"}},st={style:{"font-style":"italic"}},ot=f(()=>a("span",null,"Chủ hồ sơ: ",-1)),lt={style:{"font-weight":"600"}},nt=f(()=>a("span",null,"Trạng thái hồ sơ: ",-1)),it={style:{"font-weight":"600"}},ct={key:0,style:{height:"45px",padding:"10px 0"}},ut={class:"mt-4",style:{"max-width":"900px",margin:"0 auto"}},rt={key:0,style:{height:"45px",padding:"10px 0"}},dt={style:{"font-weight":"600"}},pt={style:{"font-style":"italic"}},ht=f(()=>a("span",null,"Chủ hồ sơ: ",-1)),mt={style:{"font-weight":"600"}},_t=f(()=>a("span",null,"Trạng thái hồ sơ: ",-1)),ft={style:{"font-weight":"600"}},yt={key:0},gt={__name:"TraCuuHoSo",setup(g){const{mobile:V}=G();K();const w=X(),z=B(),k=l(0);A(),R([{sortable:!1,title:"STT",align:"center",key:"stt"},{sortable:!1,title:"Mã hồ sơ",align:"left",key:"HoVaTen"},{sortable:!1,title:"Ngày tạo",align:"left",key:"NgaySinh"},{sortable:!1,title:"Thủ tục",align:"left",key:"MaSinhVien"},{sortable:!1,title:"Tình trạng",align:"left",key:"GioiTinh"}]);const x=l(""),b=l([]),h=l(!1),S=l(!1),m=l([]),C=l(0),v=l(0),E=l(0),I=function(){if(!String(x.value).trim())return;S.value=!0;let u={params:{page:0,size:20,keywordChinhXac:String(x.value).trim()}};h.value=!0,w.getDanhSachHoSo(u).then(function(r){h.value=!1,b.value=r.content,C.value=r.totalElements}).catch(function(){h.value=!1,dsHoSo.value=[],C.value=0,pageCount.value=0})},N=function({done:u}){let r={params:{page:k.value,size:5,trangThaiHoSo_MaMuc:"02"}};h.value=!0,w.getDanhSachHoSo(r).then(function(d){h.value=!1,d.content.length&&(k.value+=1),m.value=m.value.concat(d.content),v.value=d.totalElements,E.value=d.totalPages,m.value.length<=d.totalElements?u("empty"):u("ok")}).catch(function(){h.value=!1,m.value=[],v.value=0,u("empty")})};return U(z,async u=>{N()}),j(()=>{}),(u,r)=>{const d=F("v-infinite-scroll");return n(),H(Z,{class:L(O(V)?"wrap-c-tracuu  wrap-c-tracuu-mobile mx-auto":"wrap-c-tracuu mx-auto mt-3")},{default:t(()=>[e(p,{justify:"center",class:"mx-0 my-0"},{default:t(()=>[e(i,{cols:"12",class:"px-0 py-0 text-header"},{default:t(()=>[s(" TRA CỨU HỒ SƠ ")]),_:1})]),_:1}),e(p,{class:"mx-0",style:{"margin-top":"12px !important","margin-bottom":"24px !important",margin:"0 auto"}},{default:t(()=>[e(i,{cols:"12",class:"px-0 py-0",style:{"line-height":"32px","max-width":"700px",margin:"0 auto"}},{default:t(()=>[$]),_:1}),e(i,{cols:"12",class:"px-0 py-0",style:{"max-width":"700px",margin:"0 auto"}},{default:t(()=>[e(Y,{"prepend-inner-icon":"mdi-file-document-edit-outline",class:"flex input-form",modelValue:x.value,"onUpdate:modelValue":r[0]||(r[0]=o=>x.value=o),placeholder:"Nhập thông tin tra cứu",solo:"",dense:"","hide-details":"auto",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{justify:"center",class:"mx-0 my-0",style:{"margin-top":"25px !important","margin-bottom":"25px !important"}},{default:t(()=>[e(q,{size:"small",color:"#1E7D30",class:"mx-0",style:{float:"right"},onClick:P(I,["stop"]),height:"35px",width:"150px"},{default:t(()=>[e(y,{size:"24",color:"#ffffff",class:"mr-2"},{default:t(()=>[s("mdi-magnify")]),_:1}),tt]),_:1},8,["onClick"])]),_:1}),S.value?(n(),_("div",et,[e(p,{class:"my-0 mx-0"},{default:t(()=>[e(i,{cols:"12",class:"px-0 py-0 text-header-ho-so py-2"},{default:t(()=>[e(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[s("mdi-text-box-search-outline")]),_:1}),s(" KẾT QUẢ TRA CỨU ")]),_:1})]),_:1}),a("div",null,[(n(!0),_(D,null,M(b.value,o=>(n(),H(p,{key:o,class:"mx-0 my-0",style:{"align-items":"center","max-height":"60px","border-bottom":"1px dotted rgb(167, 165, 165)",padding:"5px 0px"}},{default:t(()=>[e(i,{class:"px-0 py-0",style:{"max-width":"40px"}},{default:t(()=>[e(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[s("mdi-chevron-double-right")]),_:1})]),_:1}),e(i,{class:"py-0"},{default:t(()=>[a("div",null,[a("span",at,c(o.MaDinhDanh),1),s(" - "),a("span",null,c(o.TrichYeuHoSo),1)]),a("div",st,[ot,s(),a("span",lt,c(o.ChuHoSo.TenGoi),1),s(" - "),nt,s(),a("span",it,c(o.TrangThaiHoSo.TenMuc),1)])]),_:2},1024)]),_:2},1024))),128)),S.value&&!C.value?(n(),_("div",ct,"KHÔNG CÓ HỒ SƠ NÀO ĐƯỢC TÌM THẤY")):T("",!0)])])):T("",!0),a("div",ut,[e(p,{class:"my-0 mx-0"},{default:t(()=>[e(i,{cols:"12",class:"px-0 py-0 text-header-ho-so py-2"},{default:t(()=>[e(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[s("mdi-text-box-check-outline")]),_:1}),s(" HỒ SƠ MỚI TIẾP NHẬN ")]),_:1})]),_:1}),a("div",null,[v.value?T("",!0):(n(),_("div",rt,"KHÔNG CÓ HỒ SƠ NÀO")),e(d,{height:250,items:m.value,onLoad:N},{empty:t(()=>[v.value?(n(),_("div",yt,"Không còn hồ sơ nào!")):T("",!0)]),default:t(()=>[(n(!0),_(D,null,M(m.value,o=>(n(),H(p,{key:o.primKey,class:"mx-0 my-0",style:{"align-items":"center","max-height":"60px","border-bottom":"1px dotted rgb(167, 165, 165)",padding:"5px 0px"}},{default:t(()=>[e(i,{class:"px-0 py-0",style:{"max-width":"40px"}},{default:t(()=>[e(y,{size:"28",color:"#1E7D30",class:"mr-2"},{default:t(()=>[s("mdi-chevron-double-right")]),_:1})]),_:1}),e(i,{class:"py-0"},{default:t(()=>[a("div",null,[a("span",dt,c(o.MaDinhDanh),1),s(" - "),a("span",null,c(o.TrichYeuHoSo),1)]),a("div",pt,[ht,s(),a("span",mt,c(o.ChuHoSo.TenGoi),1),s(" - "),_t,s(),a("span",ft,c(o.TrangThaiHoSo.TenMuc),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["items"])])])]),_:1},8,["class"])}}},wt=W(gt,[["__scopeId","data-v-d158303e"]]);export{wt as default};
