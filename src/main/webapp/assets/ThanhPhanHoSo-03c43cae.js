import{q as c,f as z,s as P,I as H,o as M,r as B,h as i,i as d,w as a,d as o,j as t,z as s,A as l,k as E,y as m,B as I,K as w,M as j,L as K,x as F,E as N,G}from"./index-5f8c8cac.js";import"./jquery-da988d60.js";import{u as $}from"./hosodvc-33e93a11.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";import{V as y,a as x}from"./VRow-ba94faca.js";import{V as q}from"./VTooltip-c4737b4a.js";import{c as R,V as U,a as X,b as J}from"./VToolbarItems-c6275d7e.js";import{V as b,a as O}from"./VCard-7629d27a.js";const p=h=>(N("data-v-7a0485b8"),h=h(),G(),h),Q={class:"sub-header-content"},W=p(()=>t("div",{class:"triangle-header"},null,-1)),Y=p(()=>t("div",{class:"text-sub-header"},"Thành phần hồ sơ",-1)),Z={class:"align-left"},ee={class:"align-center",width:"350"},ae=["onClick"],oe={class:"ml-2",style:{"font-size":"14px","text-decoration":"underline",color:"#1E7D30"}},te=p(()=>t("span",null,"Tải xuống",-1)),se=p(()=>t("div",{class:"sub-header-content"}," Tệp tin đính kèm ",-1)),le=p(()=>t("div",{class:"triangle-header"},null,-1)),ne=["src"],ie={__name:"ThanhPhanHoSo",setup(h){const T=c("#1E7D30"),V=z(),k=$(),S=c(!1),f=c(!1),_=c(!1),v=c(""),L=P(function(){return V.thongTinHoSo.ThanhPhanHoSo.filter(function(n){return!n.MaThanhPhanHoSo||n.MaThanhPhanHoSo&&n.MaThanhPhanHoSo.MaMuc.split("_")[0]!=="BMDT"})}),C=H([{sortable:!1,title:"Tên giấy tờ",align:"left",key:"tenGiayTo",class:"td-left"},{sortable:!1,title:"Tệp đính kèm",align:"left",key:"tepDinhKem",class:"td-left"}]),g=function(n,r){f.value||(f.value=!0,k.taiTep(n).then(function(u){if(f.value=!1,r=="preview")v.value=u,_.value=!0;else{var e=document.createElement("a");document.body.appendChild(e),e.style="display: none",e.href=u,e.download=n.TenTep,e.click()}}).catch(function(u){f.value=!1}))};return M(()=>{}),(n,r)=>{const u=B("v-data-table");return i(),d(b,{class:"pa-0 thanhphanhoso",style:{"box-shadow":"none !important",width:"100%"}},{default:a(()=>[o(y,{class:"mx-0 my-0 mt-3"},{default:a(()=>[o(x,{class:"sub-header d-flex align-center justify-start py-0 px-0"},{default:a(()=>[t("div",Q,[o(s,{size:"22",color:"#ffffff"},{default:a(()=>[l("mdi-view-dashboard-outline")]),_:1})]),W,Y]),_:1})]),_:1}),o(y,{class:"mx-0 my-0 mt-2"},{default:a(()=>[o(u,{headers:C,items:E(L),"items-per-page":"20","item-value":"primKey","hide-default-footer":"",class:"table-base table-tphs","no-data":"Không có dữ liệu",loading:S.value,"loading-text":"Đang tải... "},{item:a(({item:e})=>[t("tr",null,[t("td",Z,m(e.raw.TenGiayTo),1),t("td",ee,[e.raw.TepDuLieu.KichThuocTep?(i(),I("div",{key:0,class:"py-1",onClick:D=>g(e.raw.TepDuLieu,"preview")},[e.raw.TepDuLieu.DinhDangTep==="xls"||e.raw.TepDuLieu.DinhDangTep==="xlsx"?(i(),d(s,{key:0,size:"18",color:"green"},{default:a(()=>[l("mdi-file-excel-outline")]),_:1})):e.raw.TepDuLieu.DinhDangTep==="doc"||e.raw.TepDuLieu.DinhDangTep==="docx"?(i(),d(s,{key:1,size:"18",color:"blue"},{default:a(()=>[l("mdi-file-word-outline")]),_:1})):e.raw.TepDuLieu.DinhDangTep==="pdf"?(i(),d(s,{key:2,size:"18",color:"red"},{default:a(()=>[l("mdi-file-pdf-box")]),_:1})):e.raw.TepDuLieu.DinhDangTep==="png"||e.raw.TepDuLieu.DinhDangTep==="jpg"||e.raw.TepDuLieu.DinhDangTep==="jpeg"?(i(),d(s,{key:3,size:"18",color:"blue"},{default:a(()=>[l("mdi-file-image")]),_:1})):(i(),d(s,{key:4,size:"18",color:"#2161b1"},{default:a(()=>[l("mdi-paperclip")]),_:1})),t("a",oe,m(e.raw.TepDuLieu.TenTep)+"."+m(e.raw.TepDuLieu.Ext),1),o(q,{location:"top"},{activator:a(({props:D})=>[o(w,j({icon:"",variant:"flat",size:"small"},D,{class:"mr-2",onClick:K(re=>g(e.raw.TepDuLieu,"download"),["stop"])}),{default:a(()=>[o(s,{size:"18",color:T.value},{default:a(()=>[l("mdi-cloud-download-outline")]),_:1},8,["color"])]),_:2},1040,["onClick"])]),default:a(()=>[te]),_:2},1024)],8,ae)):F("",!0)])])]),_:1},8,["headers","items","loading"])]),_:1}),o(R,{"max-width":"1000",modelValue:_.value,"onUpdate:modelValue":r[1]||(r[1]=e=>_.value=e),persistent:""},{default:a(()=>[o(b,null,{default:a(()=>[o(U,{dark:"",color:T.value,class:"px-0"},{default:a(()=>[o(x,{class:"sub-header d-flex align-center justify-start py-0 px-0"},{default:a(()=>[se,le]),_:1}),o(X),o(J,null,{default:a(()=>[o(w,{variant:"flat",size:"small",icon:"",color:"#E9FFF2",onClick:r[0]||(r[0]=e=>_.value=!1)},{default:a(()=>[o(s,{size:"20"},{default:a(()=>[l("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["color"]),o(O,{class:"my-0 px-0 py-0"},{default:a(()=>[t("iframe",{src:v.value,type:"application/pdf",width:"100%",height:"100%",style:{overflow:"auto","min-height":"600px"},frameborder:"0"},`\r
          `,8,ne)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Te=A(ie,[["__scopeId","data-v-7a0485b8"]]);export{Te as default};
