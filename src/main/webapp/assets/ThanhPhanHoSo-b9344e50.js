import{e as F,A as T,h as j,B,M as C,o as K,i as l,j as d,w as e,d as t,k as s,t as u,v as n,F as h,I as A,H,l as $,G as f,E as v,q as x,s as b,O as w,K as N,L as X}from"./index-fa19424d.js";import"./jquery-da988d60.js";import{u as q}from"./hosodvc-313d9caf.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{V as L,a as M}from"./VRow-75f849c9.js";import{V}from"./VTooltip-02f3b2a7.js";import{c as R,V as U,a as J,b as Q}from"./VToolbarItems-9f6e0450.js";import{V as G,a as W}from"./VCard-e9c79ce7.js";const p=_=>(N("data-v-0be51c87"),_=_(),X(),_),Y={class:"sub-header-content"},Z=p(()=>s("div",{class:"triangle-header"},null,-1)),ee=p(()=>s("div",{class:"text-sub-header"},"Thành phần hồ sơ",-1)),oe={style:{"font-weight":"600",width:"100%"}},ae={key:0,style:{color:"red"}},te=["onClick"],le={class:"ml-2",style:{"font-size":"14px","text-decoration":"underline",color:"#1E7D30"}},se=p(()=>s("span",null,"Tải xuống",-1)),ne=p(()=>s("span",null,"Xóa",-1)),ie={key:1,style:{width:"100%"}},ue={style:{width:"100%"},class:"pl-3"},de=p(()=>s("span",null,"- ",-1)),re=["onClick"],ce={class:"ml-2",style:{"font-size":"14px","text-decoration":"underline",color:"#1E7D30"}},pe=p(()=>s("span",null,"Tải xuống",-1)),he=p(()=>s("div",{class:"sub-header-content"}," Tệp tin đính kèm ",-1)),fe=p(()=>s("div",{class:"triangle-header"},null,-1)),Te=["src"],_e={__name:"ThanhPhanHoSo",setup(_){F();const m=T("#1E7D30"),I=j(),P=q();T(!1);const D=T(!1),y=T(!1),z=T(""),E=B(function(){let r=I.thongTinHoSo.ThanhPhanHoSo.filter(function(i){return!i.MaThanhPhanHoSo||i.MaThanhPhanHoSo&&i.MaThanhPhanHoSo.MaMuc.split("_")[0]!=="BMDT"});return r.forEach((i,o)=>{i.HinhThucGiayTo.MaMuc=="true"&&(r[o].items=r.filter(function(c){let a=c.IDGiayTo.split("-");return a[0]=="GTK"&&a[1]==i.IDGiayTo}))}),console.log("tp",r),r.filter(function(i){return String(i.IDGiayTo).split("-")[0]!=="GTK"})});C([{sortable:!1,title:"Tên giấy tờ",align:"left",key:"tenGiayTo",class:"td-left"},{sortable:!1,title:"Tệp đính kèm",align:"left",key:"tepDinhKem",class:"td-left"}]),C([{sortable:!1,title:"TT",align:"center",key:"index",class:"td-left"},{sortable:!1,title:"Tên giấy tờ",align:"left",key:"tepDinhKem",class:"td-left"}]);const g=function(r,i){D.value||(D.value=!0,P.taiTep(r).then(function(o){if(console.log("resultFile",o),D.value=!1,i=="preview")z.value=o,y.value=!0;else{var c=document.createElement("a");document.body.appendChild(c),c.style="display: none",c.href=o,c.download=r.TenTep,c.click()}}).catch(function(o){console.log("error-resultFile",o),D.value=!1}))};return K(()=>{}),(r,i)=>(l(),d(G,{class:"pa-0 thanhphanhoso",style:{"box-shadow":"none !important",width:"100%"}},{default:e(()=>[t(L,{class:"mx-0 my-0 mt-3"},{default:e(()=>[t(M,{class:"sub-header d-flex align-center justify-start py-0 px-0"},{default:e(()=>[s("div",Y,[t(u,{size:"22",color:"#ffffff"},{default:e(()=>[n("mdi-view-dashboard-outline")]),_:1})]),Z,ee]),_:1})]),_:1}),t(L,{class:"mx-0 my-0",style:{"border-top":"1px dotted #DADADA","border-left":"1px dotted #DADADA"}},{default:e(()=>[(l(!0),h(A,null,H($(E),(o,c)=>(l(),d(L,{key:o.IDGiayTo,class:"mx-0 my-0 px-2 py-2",style:{width:"100%","border-bottom":"1px dotted #DADADA","border-right":"1px dotted #DADADA","align-items":"center","min-height":"42px"}},{default:e(()=>[s("div",oe,[s("span",null,f(c+1)+". ",1),s("span",null,f(o.TenGiayTo),1),n(),o.HinhThucGiayTo.TenMuc=="true"?(l(),h("span",ae,"(*)")):v("",!0)]),o.TepDuLieu.KichThuocTep?(l(),h("div",{key:0,class:"py-1",onClick:a=>g(o.TepDuLieu,"preview"),style:{width:"100%"}},[o.TepDuLieu.DinhDangTep==="xls"||o.TepDuLieu.DinhDangTep==="xlsx"?(l(),d(u,{key:0,size:"18",color:"green"},{default:e(()=>[n("mdi-file-excel-outline")]),_:1})):o.TepDuLieu.DinhDangTep==="doc"||o.TepDuLieu.DinhDangTep==="docx"?(l(),d(u,{key:1,size:"18",color:"blue"},{default:e(()=>[n("mdi-file-word-outline")]),_:1})):o.TepDuLieu.DinhDangTep==="pdf"?(l(),d(u,{key:2,size:"18",color:"red"},{default:e(()=>[n("mdi-file-pdf-box")]),_:1})):o.TepDuLieu.DinhDangTep==="png"||o.TepDuLieu.DinhDangTep==="jpg"||o.TepDuLieu.DinhDangTep==="jpeg"?(l(),d(u,{key:3,size:"18",color:"blue"},{default:e(()=>[n("mdi-file-image")]),_:1})):(l(),d(u,{key:4,size:"18",color:"#2161b1"},{default:e(()=>[n("mdi-paperclip")]),_:1})),s("a",le,f(o.TepDuLieu.TenTep)+"."+f(o.TepDuLieu.Ext),1),t(V,{location:"top"},{activator:e(({props:a})=>[t(x,b({icon:"",variant:"flat",size:"small"},a,{class:"mr-0",onClick:w(k=>g(o.TepDuLieu,"download"),["stop"])}),{default:e(()=>[t(u,{size:"18",color:m.value},{default:e(()=>[n("mdi-cloud-download-outline")]),_:1},8,["color"])]),_:2},1040,["onClick"])]),default:e(()=>[se]),_:2},1024),t(V,{location:"top"},{activator:e(({props:a})=>[t(x,b({icon:"",variant:"flat",size:"small"},a,{class:"mr-2",onClick:w(k=>r.deleteFileAttack(o,c),["stop"])}),{default:e(()=>[t(u,{size:"18",color:"red"},{default:e(()=>[n("mdi-close")]),_:1})]),_:2},1040,["onClick"])]),default:e(()=>[ne]),_:2},1024)],8,te)):v("",!0),o.HinhThucGiayTo.MaMuc=="true"?(l(),h("div",ie,[(l(!0),h(A,null,H(o.items,(a,k)=>(l(),h("div",{key:k},[s("div",ue,[de,s("span",null,f(a.TenGiayTo)+": ",1),a.TepDuLieu.KichThuocTep?(l(),h("span",{key:0,class:"py-1",onClick:S=>g(a.TepDuLieu,"preview")},[a.TepDuLieu.DinhDangTep==="xls"||a.TepDuLieu.DinhDangTep==="xlsx"?(l(),d(u,{key:0,size:"18",color:"green"},{default:e(()=>[n("mdi-file-excel-outline")]),_:1})):a.TepDuLieu.DinhDangTep==="doc"||a.TepDuLieu.DinhDangTep==="docx"?(l(),d(u,{key:1,size:"18",color:"blue"},{default:e(()=>[n("mdi-file-word-outline")]),_:1})):a.TepDuLieu.DinhDangTep==="pdf"?(l(),d(u,{key:2,size:"18",color:"red"},{default:e(()=>[n("mdi-file-pdf-box")]),_:1})):a.TepDuLieu.DinhDangTep==="png"||a.TepDuLieu.DinhDangTep==="jpg"||a.TepDuLieu.DinhDangTep==="jpeg"?(l(),d(u,{key:3,size:"18",color:"blue"},{default:e(()=>[n("mdi-file-image")]),_:1})):(l(),d(u,{key:4,size:"18",color:"#2161b1"},{default:e(()=>[n("mdi-paperclip")]),_:1})),s("a",ce,f(a.TepDuLieu.TenTep)+"."+f(a.TepDuLieu.Ext),1),t(V,{location:"top"},{activator:e(({props:S})=>[t(x,b({icon:"",variant:"flat",size:"small"},S,{class:"mr-0",onClick:w(De=>g(a.TepDuLieu,"download"),["stop"])}),{default:e(()=>[t(u,{size:"18",color:m.value},{default:e(()=>[n("mdi-cloud-download-outline")]),_:1},8,["color"])]),_:2},1040,["onClick"])]),default:e(()=>[pe]),_:2},1024)],8,re)):v("",!0)])]))),128))])):v("",!0)]),_:2},1024))),128))]),_:1}),t(R,{"max-width":"1000",modelValue:y.value,"onUpdate:modelValue":i[1]||(i[1]=o=>y.value=o),persistent:""},{default:e(()=>[t(G,null,{default:e(()=>[t(U,{dark:"",color:m.value,class:"px-0"},{default:e(()=>[t(M,{class:"sub-header d-flex align-center justify-start py-0 px-0"},{default:e(()=>[he,fe]),_:1}),t(J),t(Q,null,{default:e(()=>[t(x,{variant:"flat",size:"small",icon:"",color:"#E9FFF2",onClick:i[0]||(i[0]=o=>y.value=!1)},{default:e(()=>[t(u,{size:"20"},{default:e(()=>[n("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["color"]),t(W,{class:"my-0 px-0 py-0"},{default:e(()=>[s("iframe",{src:z.value,type:"application/pdf",width:"100%",height:"100%",style:{overflow:"auto","min-height":"600px"},frameborder:"0"},`\r
          `,8,Te)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Le=O(_e,[["__scopeId","data-v-0be51c87"]]);export{Le as default};
